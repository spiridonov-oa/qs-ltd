function addToCart(t,e,s){e="undefined"!=typeof e?e:1,clearTimeout(_cartTimer),s||(s="product_id="+t+"&quantity="+e),$.ajax({url:"index.php?route=module/personal_cart/add",type:"post",data:s,dataType:"json",success:function(t){$(".success, .warning, .attention, .information, .error").remove(),t.redirect&&(location=t.redirect),t.success&&($("#cart").addClass("filled"),$("#cart-total").html(t.count)),t.error&&(console.log("ERROR addToCart"),console.error(t.error))}})}function goToPage(t){location=t}function getURLVar(t){var e=[],s=String(document.location).split("?");if(s[1]){var r=s[1].split("&");for(i=0;i<r.length;i++){var n=r[i].split("=");n[0]&&n[1]&&(e[n[0]]=n[1])}return e[t]?e[t]:""}}(function(){var t,e,s,i,r,n={}.hasOwnProperty,o=function(t,e){function s(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};i=function(){function t(){this.options_index=0,this.parsed=[]}return t.prototype.add_node=function(t){return"OPTGROUP"===t.nodeName.toUpperCase()?this.add_group(t):this.add_option(t)},t.prototype.add_group=function(t){var e,s,i,r,n,o;for(e=this.parsed.length,this.parsed.push({array_index:e,group:!0,label:this.escapeExpression(t.label),children:0,disabled:t.disabled}),n=t.childNodes,o=[],i=0,r=n.length;i<r;i++)s=n[i],o.push(this.add_option(s,e,t.disabled));return o},t.prototype.add_option=function(t,e,s){if("OPTION"===t.nodeName.toUpperCase())return""!==t.text?(null!=e&&(this.parsed[e].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:t.value,text:t.text,html:t.innerHTML,selected:t.selected,disabled:s===!0?s:t.disabled,group_array_index:e,classes:t.className,style:t.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},t.prototype.escapeExpression=function(t){var e,s;return null==t||t===!1?"":/[\&\<\>\"\'\`]/.test(t)?(e={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},s=/&(?!\w+;)|[\<\>\"\'\`]/g,t.replace(s,function(t){return e[t]||"&amp;"})):t},t}(),i.select_to_array=function(t){var e,s,r,n,o;for(s=new i,o=t.childNodes,r=0,n=o.length;r<n;r++)e=o[r],s.add_node(e);return s.parsed},e=function(){function t(e,s){this.form_field=e,this.options=null!=s?s:{},t.browser_is_supported()&&(this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers())}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text&&this.options.allow_single_deselect,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null==this.options.enable_split_word_search||this.options.enable_split_word_search,this.group_search=null==this.options.group_search||this.options.group_search,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=null==this.options.single_backstroke_delete||this.options.single_backstroke_delete,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=null==this.options.display_selected_options||this.options.display_selected_options,this.display_disabled_options=null==this.options.display_disabled_options||this.options.display_disabled_options},t.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||t.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||t.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||t.default_no_result_text},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(t){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(t){var e=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return e.blur_test()},100)},t.prototype.results_option_build=function(t){var e,s,i,r,n;for(e="",n=this.results_data,i=0,r=n.length;i<r;i++)s=n[i],e+=s.group?this.result_add_group(s):this.result_add_option(s),(null!=t?t.first:void 0)&&(s.selected&&this.is_multiple?this.choice_build(s):s.selected&&!this.is_multiple&&this.single_set_selected_text(s.text));return e},t.prototype.result_add_option=function(t){var e,s;return t.search_match&&this.include_option_in_results(t)?(e=[],t.disabled||t.selected&&this.is_multiple||e.push("active-result"),!t.disabled||t.selected&&this.is_multiple||e.push("disabled-result"),t.selected&&e.push("result-selected"),null!=t.group_array_index&&e.push("group-option"),""!==t.classes&&e.push(t.classes),s=""!==t.style.cssText?' style="'+t.style+'"':"",'<li class="'+e.join(" ")+'"'+s+' data-option-array-index="'+t.array_index+'">'+t.search_text+"</li>"):""},t.prototype.result_add_group=function(t){return(t.search_match||t.group_match)&&t.active_options>0?'<li class="group-result">'+t.search_text+"</li>":""},t.prototype.results_update_field=function(){if(this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build(),this.results_showing)return this.winnow_results()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(t){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.winnow_results=function(){var t,e,s,i,r,n,o,l,h,a,c,_,u;for(this.no_results_clear(),r=0,o=this.get_search_text(),t=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),i=this.search_contains?"":"^",s=new RegExp(i+t,"i"),a=new RegExp(t,"i"),u=this.results_data,c=0,_=u.length;c<_;c++)e=u[c],e.search_match=!1,n=null,this.include_option_in_results(e)&&(e.group&&(e.group_match=!1,e.active_options=0),null!=e.group_array_index&&this.results_data[e.group_array_index]&&(n=this.results_data[e.group_array_index],0===n.active_options&&n.search_match&&(r+=1),n.active_options+=1),e.group&&!this.group_search||(e.search_text=e.group?e.label:e.html,e.search_match=this.search_string_match(e.search_text,s),e.search_match&&!e.group&&(r+=1),e.search_match?(o.length&&(l=e.search_text.search(a),h=e.search_text.substr(0,l+o.length)+"</em>"+e.search_text.substr(l+o.length),e.search_text=h.substr(0,l)+"<em>"+h.substr(l)),null!=n&&(n.group_match=!0)):null!=e.group_array_index&&this.results_data[e.group_array_index].search_match&&(e.search_match=!0)));return this.result_clear_highlight(),r<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},t.prototype.search_string_match=function(t,e){var s,i,r,n;if(e.test(t))return!0;if(this.enable_split_word_search&&(t.indexOf(" ")>=0||0===t.indexOf("["))&&(i=t.replace(/\[|\]/g,"").split(" "),i.length))for(r=0,n=i.length;r<n;r++)if(s=i[r],e.test(s))return!0},t.prototype.choices_count=function(){var t,e,s,i;if(null!=this.selected_option_count)return this.selected_option_count;for(this.selected_option_count=0,i=this.form_field.options,e=0,s=i.length;e<s;e++)t=i[e],t.selected&&(this.selected_option_count+=1);return this.selected_option_count},t.prototype.choices_click=function(t){if(t.preventDefault(),!this.results_showing&&!this.is_disabled)return this.results_show()},t.prototype.keyup_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.container_width=function(){return null!=this.options.width?this.options.width:""+this.form_field.offsetWidth+"px"},t.prototype.include_option_in_results=function(t){return!(this.is_multiple&&!this.display_selected_options&&t.selected)&&(!(!this.display_disabled_options&&t.disabled)&&!t.empty)},t.browser_is_supported=function(){return"Microsoft Internet Explorer"===window.navigator.appName?document.documentMode>=8:!/iP(od|hone)/i.test(window.navigator.userAgent)&&(!/Android/i.test(window.navigator.userAgent)||!/Mobile/i.test(window.navigator.userAgent))},t.default_multiple_text="Select Some Options",t.default_single_text="Select an Option",t.default_no_result_text="No results match",t}(),t=jQuery,t.fn.extend({chosen:function(i){return e.browser_is_supported()?this.each(function(e){var r,n;r=t(this),n=r.data("chosen"),"destroy"===i&&n?n.destroy():n||r.data("chosen",new s(this,i))}):this}}),s=function(e){function s(){return r=s.__super__.constructor.apply(this,arguments)}return o(s,e),s.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},s.prototype.set_up_html=function(){var e,s;return e=["chosen-container"],e.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push("chosen-rtl"),s={"class":e.join(" "),title:this.form_field.title},this.form_field.id.length&&(s.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=t("<div />",s),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},s.prototype.register_observers=function(){var t=this;return this.container.bind("mousedown.chosen",function(e){t.container_mousedown(e)}),this.container.bind("mouseup.chosen",function(e){t.container_mouseup(e)}),this.container.bind("mouseenter.chosen",function(e){t.mouse_enter(e)}),this.container.bind("mouseleave.chosen",function(e){t.mouse_leave(e)}),this.search_results.bind("mouseup.chosen",function(e){t.search_results_mouseup(e)}),this.search_results.bind("mouseover.chosen",function(e){t.search_results_mouseover(e)}),this.search_results.bind("mouseout.chosen",function(e){t.search_results_mouseout(e)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(e){t.search_results_mousewheel(e)}),this.form_field_jq.bind("chosen:updated.chosen",function(e){t.results_update_field(e)}),this.form_field_jq.bind("chosen:activate.chosen",function(e){t.activate_field(e)}),this.form_field_jq.bind("chosen:open.chosen",function(e){t.container_mousedown(e)}),this.search_field.bind("blur.chosen",function(e){t.input_blur(e)}),this.search_field.bind("keyup.chosen",function(e){t.keyup_checker(e)}),this.search_field.bind("keydown.chosen",function(e){t.keydown_checker(e)}),this.search_field.bind("focus.chosen",function(e){t.input_focus(e)}),this.is_multiple?this.search_choices.bind("click.chosen",function(e){t.choices_click(e)}):this.container.bind("click.chosen",function(t){t.preventDefault()})},s.prototype.destroy=function(){return t(document).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},s.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field()):(this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus.chosen",this.activate_action))},s.prototype.container_mousedown=function(e){if(!this.is_disabled&&(e&&"mousedown"===e.type&&!this.results_showing&&e.preventDefault(),null==e||!t(e.target).hasClass("search-choice-close")))return this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents("a.chosen-single").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),t(document).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()},s.prototype.container_mouseup=function(t){if("ABBR"===t.target.nodeName&&!this.is_disabled)return this.results_reset(t)},s.prototype.search_results_mousewheel=function(t){var e,s,i;if(e=-(null!=(s=t.originalEvent)?s.wheelDelta:void 0)||(null!=(i=t.originialEvent)?i.detail:void 0),null!=e)return t.preventDefault(),"DOMMouseScroll"===t.type&&(e=40*e),this.search_results.scrollTop(e+this.search_results.scrollTop())},s.prototype.blur_test=function(t){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},s.prototype.close_field=function(){return t(document).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},s.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},s.prototype.test_active_click=function(e){return this.container.is(t(e.target).closest(".chosen-container"))?this.active_field=!0:this.close_field()},s.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=i.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},s.prototype.result_do_highlight=function(t){var e,s,i,r,n;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass("highlighted"),i=parseInt(this.search_results.css("maxHeight"),10),n=this.search_results.scrollTop(),r=i+n,s=this.result_highlight.position().top+this.search_results.scrollTop(),e=s+this.result_highlight.outerHeight(),e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(s<n)return this.search_results.scrollTop(s)}},s.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},s.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results())},s.prototype.update_results_content=function(t){return this.search_results.html(t)},s.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},s.prototype.set_tab_index=function(t){var e;if(this.form_field.tabIndex)return e=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=e},s.prototype.set_label_behavior=function(){var e=this;if(this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=t("label[for='"+this.form_field.id+"']")),this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(t){return e.is_multiple?e.container_mousedown(t):e.activate_field()})},s.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},s.prototype.search_results_mouseup=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first(),s.length)return this.result_highlight=s,this.result_select(e),this.search_field.focus()},s.prototype.search_results_mouseover=function(e){var s;if(s=t(e.target).hasClass("active-result")?t(e.target):t(e.target).parents(".active-result").first())return this.result_do_highlight(s)},s.prototype.search_results_mouseout=function(e){if(t(e.target).hasClass("active-result"))return this.result_clear_highlight()},s.prototype.choice_build=function(e){var s,i,r=this;return s=t("<li />",{"class":"search-choice"}).html("<span>"+e.html+"</span>"),e.disabled?s.addClass("search-choice-disabled"):(i=t("<a />",{"class":"search-choice-close","data-option-array-index":e.array_index}),i.bind("click.chosen",function(t){return r.choice_destroy_link_click(t)}),s.append(i)),this.search_container.before(s)},s.prototype.choice_destroy_link_click=function(e){if(e.preventDefault(),e.stopPropagation(),!this.is_disabled)return this.choice_destroy(t(e.target))},s.prototype.choice_destroy=function(t){if(this.result_deselect(t[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),t.parents("li").first().remove(),this.search_field_scale()},s.prototype.results_reset=function(){if(this.form_field.options[0].selected=!0,this.selected_option_count=null,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field)return this.results_hide()},s.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},s.prototype.result_select=function(t){var e,s,i;if(this.result_highlight)return e=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?e.removeClass("active-result"):(this.result_single_selected&&(this.result_single_selected.removeClass("result-selected"),i=this.result_single_selected[0].getAttribute("data-option-array-index"),this.results_data[i].selected=!1),this.result_single_selected=e),e.addClass("result-selected"),s=this.results_data[e[0].getAttribute("data-option-array-index")],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(s):this.single_set_selected_text(s.text),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[s.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},s.prototype.single_set_selected_text=function(t){return null==t&&(t=this.default_text),t===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(t)},s.prototype.result_deselect=function(t){var e;return e=this.results_data[t],!this.form_field.options[e.options_index].disabled&&(e.selected=!1,this.form_field.options[e.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[e.options_index].value}),this.search_field_scale(),!0)},s.prototype.single_deselect_control_build=function(){if(this.allow_single_deselect)return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},s.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":t("<div/>").text(t.trim(this.search_field.val())).html()},s.prototype.winnow_results_set_highlight=function(){var t,e;if(e=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),t=e.length?e.first():this.search_results.find(".active-result").first(),null!=t)return this.result_do_highlight(t)},s.prototype.no_results=function(e){var s;return s=t('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),s.find("span").first().html(e),this.search_results.append(s)},s.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},s.prototype.keydown_arrow=function(){var t;return this.results_showing&&this.result_highlight?(t=this.result_highlight.nextAll("li.active-result").first())?this.result_do_highlight(t):void 0:this.results_show()},s.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll("li.active-result"),t.length?this.result_do_highlight(t.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},s.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(t=this.search_container.siblings("li.search-choice").last(),t.length&&!t.hasClass("search-choice-disabled")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},s.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},s.prototype.keydown_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:t.preventDefault(),this.keydown_arrow()}},s.prototype.search_field_scale=function(){var e,s,i,r,n,o,l,h,a;if(this.is_multiple){for(i=0,l=0,n="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],h=0,a=o.length;h<a;h++)r=o[h],n+=r+":"+this.search_field.css(r)+";";return e=t("<div />",{style:n}),e.text(this.search_field.val()),t("body").append(e),l=e.width()+25,e.remove(),s=this.container.outerWidth(),l>s-10&&(l=s-10),this.search_field.css({width:l+"px"})}},s}(e)}).call(this);var _cartTimer;$(".btn-cart").on("click",function(){var t=$(this).data("product_id"),e=$(this).data("product_id")||1;$(this).data("product_id");t&&addToCart(t,e)}),$(document).ready(function(){function t(){function t(){$("#cart .mini-cart-block").empty(),$("#cart #cart-total").empty(),$("#cart #cart-total").append($("#cart-content #cart-total").html()),$("#cart .mini-cart-block").append($("#cart-content .mini-cart-block").html()),$("#cart").addClass("active"),e()}$("#cart-content").load("index.php?route=module/cart #cart > *",t)}function e(){"0"==$("#cart-total").text()?$("#cart").removeClass("filled"):$("#cart").addClass("filled")}$(".button-search").bind("click",function(){url=$("base").attr("href")+"index.php?route=product/search";var t=$("input[name='search']").val();t&&(url+="&search="+encodeURIComponent(t)),location=url}),$("#header input[name='search']").bind("keydown",function(t){if(13==t.keyCode){url=$("base").attr("href")+"index.php?route=product/search";var e=$("input[name='search']").val();e&&(url+="&search="+encodeURIComponent(e)),location=url}}),$("#btn-mobile-toggle").toggle(function(){$(this).removeClass("expand").next().slideUp()},function(){$(this).addClass("expand").next().slideDown()}),$(".btn-expand-menu").toggle(function(){$(this).next().slideUp().parent().removeClass("expand")},function(){$(this).next().slideDown().parent().addClass("expand")});var s=!1;$(".mainmenu .menu-li").hover(function(){if(!s){var t=$(".mainmenu .menu-li:first").width();t<200&&(t=200),$(".mainmenu .menu-li > .dropdown-container").width(t),$(".menu-sub").width(t),$(".menu-sub-sub").width(t+100),$(".mainmenu .menu-li-sub > .dropdown-container").width(t+100),s=!0}});var i=$(window).innerWidth();i<768&&($("#btn-mobile-toggle").trigger("click"),$(".btn-expand-menu").trigger("click")),$("#btn-tabs-toggle").toggle(function(){$(this).parent().removeClass("collapse").addClass("expand").find(".ui-state-default").slideDown()},function(){$(this).parent().removeClass("expand").addClass("collapse").find(".ui-state-default:not(.ui-state-active)").slideUp()}),$(".review a").click(function(t){t.preventDefault();var e=0;e=$(this.hash).offset().top>$(document).height()-$(window).height()?$(document).height()-$(window).height():$(this.hash).offset().top,$("html,body").animate({scrollTop:e},500,"swing")});$("body").append('<div id="cart-content" style="display: none"></div>'),$("#cart").mouseenter(t),$("#cart").mouseleave(function(){$("#cart").removeClass("active"),e()}),$("#cart").on("change",e),e(),$(".custom-select").chosen({disable_search_threshold:10})});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZpbmFsLmpzIl0sIm5hbWVzIjpbImFkZFRvQ2FydCIsInByb2R1Y3RfaWQiLCJxdWFudGl0eSIsImRhdGEiLCJjbGVhclRpbWVvdXQiLCJfY2FydFRpbWVyIiwiJCIsImFqYXgiLCJ1cmwiLCJ0eXBlIiwiZGF0YVR5cGUiLCJzdWNjZXNzIiwianNvbiIsInJlbW92ZSIsImxvY2F0aW9uIiwiYWRkQ2xhc3MiLCJodG1sIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiZ29Ub1BhZ2UiLCJnZXRVUkxWYXIiLCJrZXkiLCJ2YWx1ZSIsInF1ZXJ5IiwiU3RyaW5nIiwiZG9jdW1lbnQiLCJzcGxpdCIsInBhcnQiLCJpIiwibGVuZ3RoIiwiQWJzdHJhY3RDaG9zZW4iLCJDaG9zZW4iLCJTZWxlY3RQYXJzZXIiLCJfcmVmIiwiX19oYXNQcm9wIiwiaGFzT3duUHJvcGVydHkiLCJfX2V4dGVuZHMiLCJjaGlsZCIsInBhcmVudCIsImN0b3IiLCJ0aGlzIiwiY29uc3RydWN0b3IiLCJjYWxsIiwicHJvdG90eXBlIiwiX19zdXBlcl9fIiwib3B0aW9uc19pbmRleCIsInBhcnNlZCIsImFkZF9ub2RlIiwibm9kZU5hbWUiLCJ0b1VwcGVyQ2FzZSIsImFkZF9ncm91cCIsImFkZF9vcHRpb24iLCJncm91cCIsImdyb3VwX3Bvc2l0aW9uIiwib3B0aW9uIiwiX2kiLCJfbGVuIiwiX3Jlc3VsdHMiLCJwdXNoIiwiYXJyYXlfaW5kZXgiLCJsYWJlbCIsImVzY2FwZUV4cHJlc3Npb24iLCJjaGlsZHJlbiIsImRpc2FibGVkIiwiY2hpbGROb2RlcyIsImdyb3VwX2Rpc2FibGVkIiwidGV4dCIsImlubmVySFRNTCIsInNlbGVjdGVkIiwiZ3JvdXBfYXJyYXlfaW5kZXgiLCJjbGFzc2VzIiwiY2xhc3NOYW1lIiwic3R5bGUiLCJjc3NUZXh0IiwiZW1wdHkiLCJtYXAiLCJ1bnNhZmVfY2hhcnMiLCJ0ZXN0IiwiPCIsIj4iLCJcIiIsIiciLCJgIiwicmVwbGFjZSIsImNociIsInNlbGVjdF90b19hcnJheSIsInNlbGVjdCIsInBhcnNlciIsImZvcm1fZmllbGQiLCJvcHRpb25zIiwiYnJvd3Nlcl9pc19zdXBwb3J0ZWQiLCJpc19tdWx0aXBsZSIsIm11bHRpcGxlIiwic2V0X2RlZmF1bHRfdGV4dCIsInNldF9kZWZhdWx0X3ZhbHVlcyIsInNldHVwIiwic2V0X3VwX2h0bWwiLCJyZWdpc3Rlcl9vYnNlcnZlcnMiLCJfdGhpcyIsImNsaWNrX3Rlc3RfYWN0aW9uIiwiZXZ0IiwidGVzdF9hY3RpdmVfY2xpY2siLCJhY3RpdmF0ZV9hY3Rpb24iLCJhY3RpdmF0ZV9maWVsZCIsImFjdGl2ZV9maWVsZCIsIm1vdXNlX29uX2NvbnRhaW5lciIsInJlc3VsdHNfc2hvd2luZyIsInJlc3VsdF9oaWdobGlnaHRlZCIsInJlc3VsdF9zaW5nbGVfc2VsZWN0ZWQiLCJhbGxvd19zaW5nbGVfZGVzZWxlY3QiLCJkaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQiLCJkaXNhYmxlX3NlYXJjaCIsImVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCIsImdyb3VwX3NlYXJjaCIsInNlYXJjaF9jb250YWlucyIsInNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSIsIm1heF9zZWxlY3RlZF9vcHRpb25zIiwiSW5maW5pdHkiLCJpbmhlcml0X3NlbGVjdF9jbGFzc2VzIiwiZGlzcGxheV9zZWxlY3RlZF9vcHRpb25zIiwiZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zIiwiZ2V0QXR0cmlidXRlIiwiZGVmYXVsdF90ZXh0IiwicGxhY2Vob2xkZXJfdGV4dF9tdWx0aXBsZSIsInBsYWNlaG9sZGVyX3RleHQiLCJkZWZhdWx0X211bHRpcGxlX3RleHQiLCJwbGFjZWhvbGRlcl90ZXh0X3NpbmdsZSIsImRlZmF1bHRfc2luZ2xlX3RleHQiLCJyZXN1bHRzX25vbmVfZm91bmQiLCJub19yZXN1bHRzX3RleHQiLCJkZWZhdWx0X25vX3Jlc3VsdF90ZXh0IiwibW91c2VfZW50ZXIiLCJtb3VzZV9sZWF2ZSIsImlucHV0X2ZvY3VzIiwic2V0VGltZW91dCIsImNvbnRhaW5lcl9tb3VzZWRvd24iLCJpbnB1dF9ibHVyIiwiYmx1cl90ZXN0IiwicmVzdWx0c19vcHRpb25fYnVpbGQiLCJjb250ZW50IiwicmVzdWx0c19kYXRhIiwicmVzdWx0X2FkZF9ncm91cCIsInJlc3VsdF9hZGRfb3B0aW9uIiwiZmlyc3QiLCJjaG9pY2VfYnVpbGQiLCJzaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQiLCJzZWFyY2hfbWF0Y2giLCJpbmNsdWRlX29wdGlvbl9pbl9yZXN1bHRzIiwiam9pbiIsInNlYXJjaF90ZXh0IiwiZ3JvdXBfbWF0Y2giLCJhY3RpdmVfb3B0aW9ucyIsInJlc3VsdHNfdXBkYXRlX2ZpZWxkIiwicmVzdWx0c19yZXNldF9jbGVhbnVwIiwicmVzdWx0X2NsZWFyX2hpZ2hsaWdodCIsInJlc3VsdHNfYnVpbGQiLCJ3aW5ub3dfcmVzdWx0cyIsInJlc3VsdHNfdG9nZ2xlIiwicmVzdWx0c19oaWRlIiwicmVzdWx0c19zaG93IiwicmVzdWx0c19zZWFyY2giLCJlc2NhcGVkU2VhcmNoVGV4dCIsInJlZ2V4IiwicmVnZXhBbmNob3IiLCJyZXN1bHRzIiwicmVzdWx0c19ncm91cCIsInNlYXJjaFRleHQiLCJzdGFydHBvcyIsInpyZWdleCIsIm5vX3Jlc3VsdHNfY2xlYXIiLCJnZXRfc2VhcmNoX3RleHQiLCJSZWdFeHAiLCJzZWFyY2hfc3RyaW5nX21hdGNoIiwic2VhcmNoIiwic3Vic3RyIiwidXBkYXRlX3Jlc3VsdHNfY29udGVudCIsIm5vX3Jlc3VsdHMiLCJ3aW5ub3dfcmVzdWx0c19zZXRfaGlnaGxpZ2h0Iiwic2VhcmNoX3N0cmluZyIsInBhcnRzIiwiaW5kZXhPZiIsImNob2ljZXNfY291bnQiLCJzZWxlY3RlZF9vcHRpb25fY291bnQiLCJjaG9pY2VzX2NsaWNrIiwicHJldmVudERlZmF1bHQiLCJpc19kaXNhYmxlZCIsImtleXVwX2NoZWNrZXIiLCJzdHJva2UiLCJ3aGljaCIsImtleUNvZGUiLCJzZWFyY2hfZmllbGRfc2NhbGUiLCJiYWNrc3Ryb2tlX2xlbmd0aCIsImtleWRvd25fYmFja3N0cm9rZSIsInBlbmRpbmdfYmFja3N0cm9rZSIsInJlc3VsdF9zZWxlY3QiLCJjb250YWluZXJfd2lkdGgiLCJ3aWR0aCIsIm9mZnNldFdpZHRoIiwid2luZG93IiwibmF2aWdhdG9yIiwiYXBwTmFtZSIsImRvY3VtZW50TW9kZSIsInVzZXJBZ2VudCIsImpRdWVyeSIsImZuIiwiZXh0ZW5kIiwiY2hvc2VuIiwiZWFjaCIsImlucHV0X2ZpZWxkIiwiJHRoaXMiLCJkZXN0cm95IiwiX3N1cGVyIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJmb3JtX2ZpZWxkX2pxIiwiY3VycmVudF9zZWxlY3RlZEluZGV4Iiwic2VsZWN0ZWRJbmRleCIsImlzX3J0bCIsImhhc0NsYXNzIiwiY29udGFpbmVyX2NsYXNzZXMiLCJjb250YWluZXJfcHJvcHMiLCJjbGFzcyIsInRpdGxlIiwiaWQiLCJjb250YWluZXIiLCJoaWRlIiwiYWZ0ZXIiLCJkcm9wZG93biIsImZpbmQiLCJzZWFyY2hfZmllbGQiLCJzZWFyY2hfcmVzdWx0cyIsInNlYXJjaF9ub19yZXN1bHRzIiwic2VhcmNoX2Nob2ljZXMiLCJzZWFyY2hfY29udGFpbmVyIiwic2VsZWN0ZWRfaXRlbSIsInNldF90YWJfaW5kZXgiLCJzZXRfbGFiZWxfYmVoYXZpb3IiLCJ0cmlnZ2VyIiwiYmluZCIsImNvbnRhaW5lcl9tb3VzZXVwIiwic2VhcmNoX3Jlc3VsdHNfbW91c2V1cCIsInNlYXJjaF9yZXN1bHRzX21vdXNlb3ZlciIsInNlYXJjaF9yZXN1bHRzX21vdXNlb3V0Iiwic2VhcmNoX3Jlc3VsdHNfbW91c2V3aGVlbCIsImtleWRvd25fY2hlY2tlciIsInVuYmluZCIsInRhYkluZGV4IiwicmVtb3ZlRGF0YSIsInNob3ciLCJzZWFyY2hfZmllbGRfZGlzYWJsZWQiLCJjbG9zZV9maWVsZCIsInJlbW92ZUNsYXNzIiwidGFyZ2V0IiwicGFyZW50cyIsInZhbCIsInJlc3VsdHNfcmVzZXQiLCJkZWx0YSIsIl9yZWYxIiwiX3JlZjIiLCJvcmlnaW5hbEV2ZW50Iiwid2hlZWxEZWx0YSIsIm9yaWdpbmlhbEV2ZW50IiwiZGV0YWlsIiwic2Nyb2xsVG9wIiwiY2xlYXJfYmFja3N0cm9rZSIsInNob3dfc2VhcmNoX2ZpZWxkX2RlZmF1bHQiLCJmb2N1cyIsImlzIiwiY2xvc2VzdCIsInBhcnNpbmciLCJyZWFkT25seSIsInJlc3VsdF9kb19oaWdobGlnaHQiLCJlbCIsImhpZ2hfYm90dG9tIiwiaGlnaF90b3AiLCJtYXhIZWlnaHQiLCJ2aXNpYmxlX2JvdHRvbSIsInZpc2libGVfdG9wIiwicmVzdWx0X2hpZ2hsaWdodCIsInBhcnNlSW50IiwiY3NzIiwicG9zaXRpb24iLCJ0b3AiLCJvdXRlckhlaWdodCIsInRpIiwiZm9ybV9maWVsZF9sYWJlbCIsIml0ZW0iLCJjaG9pY2UiLCJjbG9zZV9saW5rIiwiZGF0YS1vcHRpb24tYXJyYXktaW5kZXgiLCJjaG9pY2VfZGVzdHJveV9saW5rX2NsaWNrIiwiYXBwZW5kIiwiYmVmb3JlIiwic3RvcFByb3BhZ2F0aW9uIiwiY2hvaWNlX2Rlc3Ryb3kiLCJsaW5rIiwicmVzdWx0X2Rlc2VsZWN0IiwiaGlnaCIsInNlbGVjdGVkX2luZGV4IiwibWV0YUtleSIsImN0cmxLZXkiLCJzaW5nbGVfZGVzZWxlY3RfY29udHJvbF9idWlsZCIsInBvcyIsInJlc3VsdF9kYXRhIiwiZGVzZWxlY3RlZCIsInRyaW0iLCJkb19oaWdoIiwic2VsZWN0ZWRfcmVzdWx0cyIsInRlcm1zIiwibm9fcmVzdWx0c19odG1sIiwia2V5ZG93bl9hcnJvdyIsIm5leHRfc2liIiwibmV4dEFsbCIsImtleXVwX2Fycm93IiwicHJldl9zaWJzIiwicHJldkFsbCIsIm5leHRfYXZhaWxhYmxlX2Rlc3Ryb3kiLCJzaWJsaW5ncyIsImxhc3QiLCJkaXYiLCJmX3dpZHRoIiwiaCIsInN0eWxlX2Jsb2NrIiwic3R5bGVzIiwidyIsIm91dGVyV2lkdGgiLCJvbiIsInJlYWR5IiwidXBkYXRlQ2FydCIsImFwcGVuZFRvQ2FydCIsImlmRmlsbGVkQ2FydCIsImxvYWQiLCJhdHRyIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiZSIsInRvZ2dsZSIsIm5leHQiLCJzbGlkZVVwIiwic2xpZGVEb3duIiwid2lkdGhfYWxpZ25lZCIsImhvdmVyIiwibWVudV93aWR0aCIsImlubmVyV2lkdGgiLCJjbGljayIsImV2ZW50IiwiZGVzdCIsImhhc2giLCJvZmZzZXQiLCJoZWlnaHQiLCJhbmltYXRlIiwibW91c2VlbnRlciIsIm1vdXNlbGVhdmUiXSwibWFwcGluZ3MiOiJBQThvQ0EsUUFBU0EsV0FBVUMsRUFBWUMsRUFBVUMsR0FDckNELEVBQStCLG1CQUFkLEdBQTRCQSxFQUFXLEVBRXhERSxhQUFhQyxZQUNSRixJQUNEQSxFQUFPLGNBQWdCRixFQUFhLGFBQWVDLEdBRXZESSxFQUFFQyxNQUNFQyxJQUFLLDJDQUNMQyxLQUFNLE9BQ05OLEtBQU1BLEVBQ05PLFNBQVUsT0FDVkMsUUFBUyxTQUFTQyxHQUNkTixFQUFFLHdEQUF3RE8sU0FFdERELEVBQWUsV0FDZkUsU0FBV0YsRUFBZSxVQUcxQkEsRUFBYyxVQUNkTixFQUFFLFNBQVNTLFNBQVMsVUFDcEJULEVBQUUsZUFBZVUsS0FBS0osRUFBWSxRQUdsQ0EsRUFBWSxRQUNaSyxRQUFRQyxJQUFJLG1CQUNaRCxRQUFRRSxNQUFNUCxFQUFZLFdBd0UxQyxRQUFTUSxVQUFTWixHQUNkTSxTQUFXTixFQUdmLFFBQVNhLFdBQVVDLEdBQ2YsR0FBSUMsTUFFQUMsRUFBUUMsT0FBT0MsU0FBU1osVUFBVWEsTUFBTSxJQUU1QyxJQUFJSCxFQUFNLEdBQUksQ0FDVixHQUFJSSxHQUFPSixFQUFNLEdBQUdHLE1BQU0sSUFFMUIsS0FBS0UsRUFBSSxFQUFHQSxFQUFJRCxFQUFLRSxPQUFRRCxJQUFLLENBQzlCLEdBQUkxQixHQUFPeUIsRUFBS0MsR0FBR0YsTUFBTSxJQUVyQnhCLEdBQUssSUFBTUEsRUFBSyxLQUNoQm9CLEVBQU1wQixFQUFLLElBQU1BLEVBQUssSUFJOUIsTUFBSW9CLEdBQU1E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LFNBQVVJLEdBU3hCQSxJQUVBclUsRUFBRSxrQkFBa0J5TSxRQUNoQmhHLHlCQUEwQiIsImZpbGUiOiJmaW5hbC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENob3NlbiwgYSBTZWxlY3QgQm94IEVuaGFuY2VyIGZvciBqUXVlcnkgYW5kIFByb3RvdHlwZVxuLy8gYnkgUGF0cmljayBGaWxsZXIgZm9yIEhhcnZlc3QsIGh0dHA6Ly9nZXRoYXJ2ZXN0LmNvbVxuLy9cbi8vIFZlcnNpb24gMS4wLjBcbi8vIEZ1bGwgc291cmNlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS9oYXJ2ZXN0aHEvY2hvc2VuXG4vLyBDb3B5cmlnaHQgKGMpIDIwMTEgSGFydmVzdCBodHRwOi8vZ2V0aGFydmVzdC5jb21cblxuLy8gTUlUIExpY2Vuc2UsIGh0dHBzOi8vZ2l0aHViLmNvbS9oYXJ2ZXN0aHEvY2hvc2VuL2Jsb2IvbWFzdGVyL0xJQ0VOU0UubWRcbi8vIFRoaXMgZmlsZSBpcyBnZW5lcmF0ZWQgYnkgYGdydW50IGJ1aWxkYCwgZG8gbm90IGVkaXQgaXQgYnkgaGFuZC5cbihmdW5jdGlvbigpIHtcbiAgdmFyICQsIEFic3RyYWN0Q2hvc2VuLCBDaG9zZW4sIFNlbGVjdFBhcnNlciwgX3JlZixcblx0X19oYXNQcm9wID0ge30uaGFzT3duUHJvcGVydHksXG5cdF9fZXh0ZW5kcyA9IGZ1bmN0aW9uKGNoaWxkLCBwYXJlbnQpIHsgZm9yICh2YXIga2V5IGluIHBhcmVudCkgeyBpZiAoX19oYXNQcm9wLmNhbGwocGFyZW50LCBrZXkpKSBjaGlsZFtrZXldID0gcGFyZW50W2tleV07IH0gZnVuY3Rpb24gY3RvcigpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGNoaWxkOyB9IGN0b3IucHJvdG90eXBlID0gcGFyZW50LnByb3RvdHlwZTsgY2hpbGQucHJvdG90eXBlID0gbmV3IGN0b3IoKTsgY2hpbGQuX19zdXBlcl9fID0gcGFyZW50LnByb3RvdHlwZTsgcmV0dXJuIGNoaWxkOyB9O1xuXG4gIFNlbGVjdFBhcnNlciA9IChmdW5jdGlvbigpIHtcblx0ZnVuY3Rpb24gU2VsZWN0UGFyc2VyKCkge1xuXHQgIHRoaXMub3B0aW9uc19pbmRleCA9IDA7XG5cdCAgdGhpcy5wYXJzZWQgPSBbXTtcblx0fVxuXG5cdFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX25vZGUgPSBmdW5jdGlvbihjaGlsZCkge1xuXHQgIGlmIChjaGlsZC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIk9QVEdST1VQXCIpIHtcblx0XHRyZXR1cm4gdGhpcy5hZGRfZ3JvdXAoY2hpbGQpO1xuXHQgIH0gZWxzZSB7XG5cdFx0cmV0dXJuIHRoaXMuYWRkX29wdGlvbihjaGlsZCk7XG5cdCAgfVxuXHR9O1xuXG5cdFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX2dyb3VwID0gZnVuY3Rpb24oZ3JvdXApIHtcblx0ICB2YXIgZ3JvdXBfcG9zaXRpb24sIG9wdGlvbiwgX2ksIF9sZW4sIF9yZWYsIF9yZXN1bHRzO1xuXG5cdCAgZ3JvdXBfcG9zaXRpb24gPSB0aGlzLnBhcnNlZC5sZW5ndGg7XG5cdCAgdGhpcy5wYXJzZWQucHVzaCh7XG5cdFx0YXJyYXlfaW5kZXg6IGdyb3VwX3Bvc2l0aW9uLFxuXHRcdGdyb3VwOiB0cnVlLFxuXHRcdGxhYmVsOiB0aGlzLmVzY2FwZUV4cHJlc3Npb24oZ3JvdXAubGFiZWwpLFxuXHRcdGNoaWxkcmVuOiAwLFxuXHRcdGRpc2FibGVkOiBncm91cC5kaXNhYmxlZFxuXHQgIH0pO1xuXHQgIF9yZWYgPSBncm91cC5jaGlsZE5vZGVzO1xuXHQgIF9yZXN1bHRzID0gW107XG5cdCAgZm9yIChfaSA9IDAsIF9sZW4gPSBfcmVmLmxlbmd0aDsgX2kgPCBfbGVuOyBfaSsrKSB7XG5cdFx0b3B0aW9uID0gX3JlZltfaV07XG5cdFx0X3Jlc3VsdHMucHVzaCh0aGlzLmFkZF9vcHRpb24ob3B0aW9uLCBncm91cF9wb3NpdGlvbiwgZ3JvdXAuZGlzYWJsZWQpKTtcblx0ICB9XG5cdCAgcmV0dXJuIF9yZXN1bHRzO1xuXHR9O1xuXG5cdFNlbGVjdFBhcnNlci5wcm90b3R5cGUuYWRkX29wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbiwgZ3JvdXBfcG9zaXRpb24sIGdyb3VwX2Rpc2FibGVkKSB7XG5cdCAgaWYgKG9wdGlvbi5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09PSBcIk9QVElPTlwiKSB7XG5cdFx0aWYgKG9wdGlvbi50ZXh0ICE9PSBcIlwiKSB7XG5cdFx0ICBpZiAoZ3JvdXBfcG9zaXRpb24gIT0gbnVsbCkge1xuXHRcdFx0dGhpcy5wYXJzZWRbZ3JvdXBfcG9zaXRpb25dLmNoaWxkcmVuICs9IDE7XG5cdFx0ICB9XG5cdFx0ICB0aGlzLnBhcnNlZC5wdXNoKHtcblx0XHRcdGFycmF5X2luZGV4OiB0aGlzLnBhcnNlZC5sZW5ndGgsXG5cdFx0XHRvcHRpb25zX2luZGV4OiB0aGlzLm9wdGlvbnNfaW5kZXgsXG5cdFx0XHR2YWx1ZTogb3B0aW9uLnZhbHVlLFxuXHRcdFx0dGV4dDogb3B0aW9uLnRleHQsXG5cdFx0XHRodG1sOiBvcHRpb24uaW5uZXJIVE1MLFxuXHRcdFx0c2VsZWN0ZWQ6IG9wdGlvbi5zZWxlY3RlZCxcblx0XHRcdGRpc2FibGVkOiBncm91cF9kaXNhYmxlZCA9PT0gdHJ1ZSA/IGdyb3VwX2Rpc2FibGVkIDogb3B0aW9uLmRpc2FibGVkLFxuXHRcdFx0Z3JvdXBfYXJyYXlfaW5kZXg6IGdyb3VwX3Bvc2l0aW9uLFxuXHRcdFx0Y2xhc3Nlczogb3B0aW9uLmNsYXNzTmFtZSxcblx0XHRcdHN0eWxlOiBvcHRpb24uc3R5bGUuY3NzVGV4dFxuXHRcdCAgfSk7XG5cdFx0fSBlbHNlIHtcblx0XHQgIHRoaXMucGFyc2VkLnB1c2goe1xuXHRcdFx0YXJyYXlfaW5kZXg6IHRoaXMucGFyc2VkLmxlbmd0aCxcblx0XHRcdG9wdGlvbnNfaW5kZXg6IHRoaXMub3B0aW9uc19pbmRleCxcblx0XHRcdGVtcHR5OiB0cnVlXG5cdFx0ICB9KTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMub3B0aW9uc19pbmRleCArPSAxO1xuXHQgIH1cblx0fTtcblxuXHRTZWxlY3RQYXJzZXIucHJvdG90eXBlLmVzY2FwZUV4cHJlc3Npb24gPSBmdW5jdGlvbih0ZXh0KSB7XG5cdCAgdmFyIG1hcCwgdW5zYWZlX2NoYXJzO1xuXG5cdCAgaWYgKCh0ZXh0ID09IG51bGwpIHx8IHRleHQgPT09IGZhbHNlKSB7XG5cdFx0cmV0dXJuIFwiXCI7XG5cdCAgfVxuXHQgIGlmICghL1tcXCZcXDxcXD5cXFwiXFwnXFxgXS8udGVzdCh0ZXh0KSkge1xuXHRcdHJldHVybiB0ZXh0O1xuXHQgIH1cblx0ICBtYXAgPSB7XG5cdFx0XCI8XCI6IFwiJmx0O1wiLFxuXHRcdFwiPlwiOiBcIiZndDtcIixcblx0XHQnXCInOiBcIiZxdW90O1wiLFxuXHRcdFwiJ1wiOiBcIiYjeDI3O1wiLFxuXHRcdFwiYFwiOiBcIiYjeDYwO1wiXG5cdCAgfTtcblx0ICB1bnNhZmVfY2hhcnMgPSAvJig/IVxcdys7KXxbXFw8XFw+XFxcIlxcJ1xcYF0vZztcblx0ICByZXR1cm4gdGV4dC5yZXBsYWNlKHVuc2FmZV9jaGFycywgZnVuY3Rpb24oY2hyKSB7XG5cdFx0cmV0dXJuIG1hcFtjaHJdIHx8IFwiJmFtcDtcIjtcblx0ICB9KTtcblx0fTtcblxuXHRyZXR1cm4gU2VsZWN0UGFyc2VyO1xuXG4gIH0pKCk7XG5cbiAgU2VsZWN0UGFyc2VyLnNlbGVjdF90b19hcnJheSA9IGZ1bmN0aW9uKHNlbGVjdCkge1xuXHR2YXIgY2hpbGQsIHBhcnNlciwgX2ksIF9sZW4sIF9yZWY7XG5cblx0cGFyc2VyID0gbmV3IFNlbGVjdFBhcnNlcigpO1xuXHRfcmVmID0gc2VsZWN0LmNoaWxkTm9kZXM7XG5cdGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuXHQgIGNoaWxkID0gX3JlZltfaV07XG5cdCAgcGFyc2VyLmFkZF9ub2RlKGNoaWxkKTtcblx0fVxuXHRyZXR1cm4gcGFyc2VyLnBhcnNlZDtcbiAgfTtcblxuICBBYnN0cmFjdENob3NlbiA9IChmdW5jdGlvbigpIHtcblx0ZnVuY3Rpb24gQWJzdHJhY3RDaG9zZW4oZm9ybV9maWVsZCwgb3B0aW9ucykge1xuXHQgIHRoaXMuZm9ybV9maWVsZCA9IGZvcm1fZmllbGQ7XG5cdCAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucyA6IHt9O1xuXHQgIGlmICghQWJzdHJhY3RDaG9zZW4uYnJvd3Nlcl9pc19zdXBwb3J0ZWQoKSkge1xuXHRcdHJldHVybjtcblx0ICB9XG5cdCAgdGhpcy5pc19tdWx0aXBsZSA9IHRoaXMuZm9ybV9maWVsZC5tdWx0aXBsZTtcblx0ICB0aGlzLnNldF9kZWZhdWx0X3RleHQoKTtcblx0ICB0aGlzLnNldF9kZWZhdWx0X3ZhbHVlcygpO1xuXHQgIHRoaXMuc2V0dXAoKTtcblx0ICB0aGlzLnNldF91cF9odG1sKCk7XG5cdCAgdGhpcy5yZWdpc3Rlcl9vYnNlcnZlcnMoKTtcblx0fVxuXG5cdEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZXRfZGVmYXVsdF92YWx1ZXMgPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgdGhpcy5jbGlja190ZXN0X2FjdGlvbiA9IGZ1bmN0aW9uKGV2dCkge1xuXHRcdHJldHVybiBfdGhpcy50ZXN0X2FjdGl2ZV9jbGljayhldnQpO1xuXHQgIH07XG5cdCAgdGhpcy5hY3RpdmF0ZV9hY3Rpb24gPSBmdW5jdGlvbihldnQpIHtcblx0XHRyZXR1cm4gX3RoaXMuYWN0aXZhdGVfZmllbGQoZXZ0KTtcblx0ICB9O1xuXHQgIHRoaXMuYWN0aXZlX2ZpZWxkID0gZmFsc2U7XG5cdCAgdGhpcy5tb3VzZV9vbl9jb250YWluZXIgPSBmYWxzZTtcblx0ICB0aGlzLnJlc3VsdHNfc2hvd2luZyA9IGZhbHNlO1xuXHQgIHRoaXMucmVzdWx0X2hpZ2hsaWdodGVkID0gbnVsbDtcblx0ICB0aGlzLnJlc3VsdF9zaW5nbGVfc2VsZWN0ZWQgPSBudWxsO1xuXHQgIHRoaXMuYWxsb3dfc2luZ2xlX2Rlc2VsZWN0ID0gKHRoaXMub3B0aW9ucy5hbGxvd19zaW5nbGVfZGVzZWxlY3QgIT0gbnVsbCkgJiYgKHRoaXMuZm9ybV9maWVsZC5vcHRpb25zWzBdICE9IG51bGwpICYmIHRoaXMuZm9ybV9maWVsZC5vcHRpb25zWzBdLnRleHQgPT09IFwiXCIgPyB0aGlzLm9wdGlvbnMuYWxsb3dfc2luZ2xlX2Rlc2VsZWN0IDogZmFsc2U7XG5cdCAgdGhpcy5kaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQgPSB0aGlzLm9wdGlvbnMuZGlzYWJsZV9zZWFyY2hfdGhyZXNob2xkIHx8IDA7XG5cdCAgdGhpcy5kaXNhYmxlX3NlYXJjaCA9IHRoaXMub3B0aW9ucy5kaXNhYmxlX3NlYXJjaCB8fCBmYWxzZTtcblx0ICB0aGlzLmVuYWJsZV9zcGxpdF93b3JkX3NlYXJjaCA9IHRoaXMub3B0aW9ucy5lbmFibGVfc3BsaXRfd29yZF9zZWFyY2ggIT0gbnVsbCA/IHRoaXMub3B0aW9ucy5lbmFibGVfc3BsaXRfd29yZF9zZWFyY2ggOiB0cnVlO1xuXHQgIHRoaXMuZ3JvdXBfc2VhcmNoID0gdGhpcy5vcHRpb25zLmdyb3VwX3NlYXJjaCAhPSBudWxsID8gdGhpcy5vcHRpb25zLmdyb3VwX3NlYXJjaCA6IHRydWU7XG5cdCAgdGhpcy5zZWFyY2hfY29udGFpbnMgPSB0aGlzLm9wdGlvbnMuc2VhcmNoX2NvbnRhaW5zIHx8IGZhbHNlO1xuXHQgIHRoaXMuc2luZ2xlX2JhY2tzdHJva2VfZGVsZXRlID0gdGhpcy5vcHRpb25zLnNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSAhPSBudWxsID8gdGhpcy5vcHRpb25zLnNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSA6IHRydWU7XG5cdCAgdGhpcy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyB8fCBJbmZpbml0eTtcblx0ICB0aGlzLmluaGVyaXRfc2VsZWN0X2NsYXNzZXMgPSB0aGlzLm9wdGlvbnMuaW5oZXJpdF9zZWxlY3RfY2xhc3NlcyB8fCBmYWxzZTtcblx0ICB0aGlzLmRpc3BsYXlfc2VsZWN0ZWRfb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5kaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMgIT0gbnVsbCA/IHRoaXMub3B0aW9ucy5kaXNwbGF5X3NlbGVjdGVkX29wdGlvbnMgOiB0cnVlO1xuXHQgIHJldHVybiB0aGlzLmRpc3BsYXlfZGlzYWJsZWRfb3B0aW9ucyA9IHRoaXMub3B0aW9ucy5kaXNwbGF5X2Rpc2FibGVkX29wdGlvbnMgIT0gbnVsbCA/IHRoaXMub3B0aW9ucy5kaXNwbGF5X2Rpc2FibGVkX29wdGlvbnMgOiB0cnVlO1xuXHR9O1xuXG5cdEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZXRfZGVmYXVsdF90ZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgaWYgKHRoaXMuZm9ybV9maWVsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXBsYWNlaG9sZGVyXCIpKSB7XG5cdFx0dGhpcy5kZWZhdWx0X3RleHQgPSB0aGlzLmZvcm1fZmllbGQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wbGFjZWhvbGRlclwiKTtcblx0ICB9IGVsc2UgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcblx0XHR0aGlzLmRlZmF1bHRfdGV4dCA9IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlIHx8IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl90ZXh0IHx8IEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfbXVsdGlwbGVfdGV4dDtcblx0ICB9IGVsc2Uge1xuXHRcdHRoaXMuZGVmYXVsdF90ZXh0ID0gdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyX3RleHRfc2luZ2xlIHx8IHRoaXMub3B0aW9ucy5wbGFjZWhvbGRlcl90ZXh0IHx8IEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfc2luZ2xlX3RleHQ7XG5cdCAgfVxuXHQgIHJldHVybiB0aGlzLnJlc3VsdHNfbm9uZV9mb3VuZCA9IHRoaXMuZm9ybV9maWVsZC5nZXRBdHRyaWJ1dGUoXCJkYXRhLW5vX3Jlc3VsdHNfdGV4dFwiKSB8fCB0aGlzLm9wdGlvbnMubm9fcmVzdWx0c190ZXh0IHx8IEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfbm9fcmVzdWx0X3RleHQ7XG5cdH07XG5cblx0QWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLm1vdXNlX2VudGVyID0gZnVuY3Rpb24oKSB7XG5cdCAgcmV0dXJuIHRoaXMubW91c2Vfb25fY29udGFpbmVyID0gdHJ1ZTtcblx0fTtcblxuXHRBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUubW91c2VfbGVhdmUgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gdGhpcy5tb3VzZV9vbl9jb250YWluZXIgPSBmYWxzZTtcblx0fTtcblxuXHRBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUuaW5wdXRfZm9jdXMgPSBmdW5jdGlvbihldnQpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgaWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcblx0XHRpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG5cdFx0ICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gX3RoaXMuY29udGFpbmVyX21vdXNlZG93bigpO1xuXHRcdCAgfSksIDUwKTtcblx0XHR9XG5cdCAgfSBlbHNlIHtcblx0XHRpZiAoIXRoaXMuYWN0aXZlX2ZpZWxkKSB7XG5cdFx0ICByZXR1cm4gdGhpcy5hY3RpdmF0ZV9maWVsZCgpO1xuXHRcdH1cblx0ICB9XG5cdH07XG5cblx0QWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmlucHV0X2JsdXIgPSBmdW5jdGlvbihldnQpIHtcblx0ICB2YXIgX3RoaXMgPSB0aGlzO1xuXG5cdCAgaWYgKCF0aGlzLm1vdXNlX29uX2NvbnRhaW5lcikge1xuXHRcdHRoaXMuYWN0aXZlX2ZpZWxkID0gZmFsc2U7XG5cdFx0cmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKCkge1xuXHRcdCAgcmV0dXJuIF90aGlzLmJsdXJfdGVzdCgpO1xuXHRcdH0pLCAxMDApO1xuXHQgIH1cblx0fTtcblxuXHRBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19vcHRpb25fYnVpbGQgPSBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgdmFyIGNvbnRlbnQsIGRhdGEsIF9pLCBfbGVuLCBfcmVmO1xuXG5cdCAgY29udGVudCA9ICcnO1xuXHQgIF9yZWYgPSB0aGlzLnJlc3VsdHNfZGF0YTtcblx0ICBmb3IgKF9pID0gMCwgX2xlbiA9IF9yZWYubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcblx0XHRkYXRhID0gX3JlZltfaV07XG5cdFx0aWYgKGRhdGEuZ3JvdXApIHtcblx0XHQgIGNvbnRlbnQgKz0gdGhpcy5yZXN1bHRfYWRkX2dyb3VwKGRhdGEpO1xuXHRcdH0gZWxzZSB7XG5cdFx0ICBjb250ZW50ICs9IHRoaXMucmVzdWx0X2FkZF9vcHRpb24oZGF0YSk7XG5cdFx0fVxuXHRcdGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmZpcnN0IDogdm9pZCAwKSB7XG5cdFx0ICBpZiAoZGF0YS5zZWxlY3RlZCAmJiB0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0XHR0aGlzLmNob2ljZV9idWlsZChkYXRhKTtcblx0XHQgIH0gZWxzZSBpZiAoZGF0YS5zZWxlY3RlZCAmJiAhdGhpcy5pc19tdWx0aXBsZSkge1xuXHRcdFx0dGhpcy5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQoZGF0YS50ZXh0KTtcblx0XHQgIH1cblx0XHR9XG5cdCAgfVxuXHQgIHJldHVybiBjb250ZW50O1xuXHR9O1xuXG5cdEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRfYWRkX29wdGlvbiA9IGZ1bmN0aW9uKG9wdGlvbikge1xuXHQgIHZhciBjbGFzc2VzLCBzdHlsZTtcblxuXHQgIGlmICghb3B0aW9uLnNlYXJjaF9tYXRjaCkge1xuXHRcdHJldHVybiAnJztcblx0ICB9XG5cdCAgaWYgKCF0aGlzLmluY2x1ZGVfb3B0aW9uX2luX3Jlc3VsdHMob3B0aW9uKSkge1xuXHRcdHJldHVybiAnJztcblx0ICB9XG5cdCAgY2xhc3NlcyA9IFtdO1xuXHQgIGlmICghb3B0aW9uLmRpc2FibGVkICYmICEob3B0aW9uLnNlbGVjdGVkICYmIHRoaXMuaXNfbXVsdGlwbGUpKSB7XG5cdFx0Y2xhc3Nlcy5wdXNoKFwiYWN0aXZlLXJlc3VsdFwiKTtcblx0ICB9XG5cdCAgaWYgKG9wdGlvbi5kaXNhYmxlZCAmJiAhKG9wdGlvbi5zZWxlY3RlZCAmJiB0aGlzLmlzX211bHRpcGxlKSkge1xuXHRcdGNsYXNzZXMucHVzaChcImRpc2FibGVkLXJlc3VsdFwiKTtcblx0ICB9XG5cdCAgaWYgKG9wdGlvbi5zZWxlY3RlZCkge1xuXHRcdGNsYXNzZXMucHVzaChcInJlc3VsdC1zZWxlY3RlZFwiKTtcblx0ICB9XG5cdCAgaWYgKG9wdGlvbi5ncm91cF9hcnJheV9pbmRleCAhPSBudWxsKSB7XG5cdFx0Y2xhc3Nlcy5wdXNoKFwiZ3JvdXAtb3B0aW9uXCIpO1xuXHQgIH1cblx0ICBpZiAob3B0aW9uLmNsYXNzZXMgIT09IFwiXCIpIHtcblx0XHRjbGFzc2VzLnB1c2gob3B0aW9uLmNsYXNzZXMpO1xuXHQgIH1cblx0ICBzdHlsZSA9IG9wdGlvbi5zdHlsZS5jc3NUZXh0ICE9PSBcIlwiID8gXCIgc3R5bGU9XFxcIlwiICsgb3B0aW9uLnN0eWxlICsgXCJcXFwiXCIgOiBcIlwiO1xuXHQgIHJldHVybiBcIjxsaSBjbGFzcz1cXFwiXCIgKyAoY2xhc3Nlcy5qb2luKCcgJykpICsgXCJcXFwiXCIgKyBzdHlsZSArIFwiIGRhdGEtb3B0aW9uLWFycmF5LWluZGV4PVxcXCJcIiArIG9wdGlvbi5hcnJheV9pbmRleCArIFwiXFxcIj5cIiArIG9wdGlvbi5zZWFyY2hfdGV4dCArIFwiPC9saT5cIjtcblx0fTtcblxuXHRBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2FkZF9ncm91cCA9IGZ1bmN0aW9uKGdyb3VwKSB7XG5cdCAgaWYgKCEoZ3JvdXAuc2VhcmNoX21hdGNoIHx8IGdyb3VwLmdyb3VwX21hdGNoKSkge1xuXHRcdHJldHVybiAnJztcblx0ICB9XG5cdCAgaWYgKCEoZ3JvdXAuYWN0aXZlX29wdGlvbnMgPiAwKSkge1xuXHRcdHJldHVybiAnJztcblx0ICB9XG5cdCAgcmV0dXJuIFwiPGxpIGNsYXNzPVxcXCJncm91cC1yZXN1bHRcXFwiPlwiICsgZ3JvdXAuc2VhcmNoX3RleHQgKyBcIjwvbGk+XCI7XG5cdH07XG5cblx0QWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfdXBkYXRlX2ZpZWxkID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5zZXRfZGVmYXVsdF90ZXh0KCk7XG5cdCAgaWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0dGhpcy5yZXN1bHRzX3Jlc2V0X2NsZWFudXAoKTtcblx0ICB9XG5cdCAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG5cdCAgdGhpcy5yZXN1bHRfc2luZ2xlX3NlbGVjdGVkID0gbnVsbDtcblx0ICB0aGlzLnJlc3VsdHNfYnVpbGQoKTtcblx0ICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcblx0XHRyZXR1cm4gdGhpcy53aW5ub3dfcmVzdWx0cygpO1xuXHQgIH1cblx0fTtcblxuXHRBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c190b2dnbGUgPSBmdW5jdGlvbigpIHtcblx0ICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcblx0XHRyZXR1cm4gdGhpcy5yZXN1bHRzX2hpZGUoKTtcblx0ICB9IGVsc2Uge1xuXHRcdHJldHVybiB0aGlzLnJlc3VsdHNfc2hvdygpO1xuXHQgIH1cblx0fTtcblxuXHRBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19zZWFyY2ggPSBmdW5jdGlvbihldnQpIHtcblx0ICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcblx0XHRyZXR1cm4gdGhpcy53aW5ub3dfcmVzdWx0cygpO1xuXHQgIH0gZWxzZSB7XG5cdFx0cmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XG5cdCAgfVxuXHR9O1xuXG5cdEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS53aW5ub3dfcmVzdWx0cyA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciBlc2NhcGVkU2VhcmNoVGV4dCwgb3B0aW9uLCByZWdleCwgcmVnZXhBbmNob3IsIHJlc3VsdHMsIHJlc3VsdHNfZ3JvdXAsIHNlYXJjaFRleHQsIHN0YXJ0cG9zLCB0ZXh0LCB6cmVnZXgsIF9pLCBfbGVuLCBfcmVmO1xuXG5cdCAgdGhpcy5ub19yZXN1bHRzX2NsZWFyKCk7XG5cdCAgcmVzdWx0cyA9IDA7XG5cdCAgc2VhcmNoVGV4dCA9IHRoaXMuZ2V0X3NlYXJjaF90ZXh0KCk7XG5cdCAgZXNjYXBlZFNlYXJjaFRleHQgPSBzZWFyY2hUZXh0LnJlcGxhY2UoL1stW1xcXXt9KCkqKz8uLFxcXFxeJHwjXFxzXS9nLCBcIlxcXFwkJlwiKTtcblx0ICByZWdleEFuY2hvciA9IHRoaXMuc2VhcmNoX2NvbnRhaW5zID8gXCJcIiA6IFwiXlwiO1xuXHQgIHJlZ2V4ID0gbmV3IFJlZ0V4cChyZWdleEFuY2hvciArIGVzY2FwZWRTZWFyY2hUZXh0LCAnaScpO1xuXHQgIHpyZWdleCA9IG5ldyBSZWdFeHAoZXNjYXBlZFNlYXJjaFRleHQsICdpJyk7XG5cdCAgX3JlZiA9IHRoaXMucmVzdWx0c19kYXRhO1xuXHQgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuXHRcdG9wdGlvbiA9IF9yZWZbX2ldO1xuXHRcdG9wdGlvbi5zZWFyY2hfbWF0Y2ggPSBmYWxzZTtcblx0XHRyZXN1bHRzX2dyb3VwID0gbnVsbDtcblx0XHRpZiAodGhpcy5pbmNsdWRlX29wdGlvbl9pbl9yZXN1bHRzKG9wdGlvbikpIHtcblx0XHQgIGlmIChvcHRpb24uZ3JvdXApIHtcblx0XHRcdG9wdGlvbi5ncm91cF9tYXRjaCA9IGZhbHNlO1xuXHRcdFx0b3B0aW9uLmFjdGl2ZV9vcHRpb25zID0gMDtcblx0XHQgIH1cblx0XHQgIGlmICgob3B0aW9uLmdyb3VwX2FycmF5X2luZGV4ICE9IG51bGwpICYmIHRoaXMucmVzdWx0c19kYXRhW29wdGlvbi5ncm91cF9hcnJheV9pbmRleF0pIHtcblx0XHRcdHJlc3VsdHNfZ3JvdXAgPSB0aGlzLnJlc3VsdHNfZGF0YVtvcHRpb24uZ3JvdXBfYXJyYXlfaW5kZXhdO1xuXHRcdFx0aWYgKHJlc3VsdHNfZ3JvdXAuYWN0aXZlX29wdGlvbnMgPT09IDAgJiYgcmVzdWx0c19ncm91cC5zZWFyY2hfbWF0Y2gpIHtcblx0XHRcdCAgcmVzdWx0cyArPSAxO1xuXHRcdFx0fVxuXHRcdFx0cmVzdWx0c19ncm91cC5hY3RpdmVfb3B0aW9ucyArPSAxO1xuXHRcdCAgfVxuXHRcdCAgaWYgKCEob3B0aW9uLmdyb3VwICYmICF0aGlzLmdyb3VwX3NlYXJjaCkpIHtcblx0XHRcdG9wdGlvbi5zZWFyY2hfdGV4dCA9IG9wdGlvbi5ncm91cCA/IG9wdGlvbi5sYWJlbCA6IG9wdGlvbi5odG1sO1xuXHRcdFx0b3B0aW9uLnNlYXJjaF9tYXRjaCA9IHRoaXMuc2VhcmNoX3N0cmluZ19tYXRjaChvcHRpb24uc2VhcmNoX3RleHQsIHJlZ2V4KTtcblx0XHRcdGlmIChvcHRpb24uc2VhcmNoX21hdGNoICYmICFvcHRpb24uZ3JvdXApIHtcblx0XHRcdCAgcmVzdWx0cyArPSAxO1xuXHRcdFx0fVxuXHRcdFx0aWYgKG9wdGlvbi5zZWFyY2hfbWF0Y2gpIHtcblx0XHRcdCAgaWYgKHNlYXJjaFRleHQubGVuZ3RoKSB7XG5cdFx0XHRcdHN0YXJ0cG9zID0gb3B0aW9uLnNlYXJjaF90ZXh0LnNlYXJjaCh6cmVnZXgpO1xuXHRcdFx0XHR0ZXh0ID0gb3B0aW9uLnNlYXJjaF90ZXh0LnN1YnN0cigwLCBzdGFydHBvcyArIHNlYXJjaFRleHQubGVuZ3RoKSArICc8L2VtPicgKyBvcHRpb24uc2VhcmNoX3RleHQuc3Vic3RyKHN0YXJ0cG9zICsgc2VhcmNoVGV4dC5sZW5ndGgpO1xuXHRcdFx0XHRvcHRpb24uc2VhcmNoX3RleHQgPSB0ZXh0LnN1YnN0cigwLCBzdGFydHBvcykgKyAnPGVtPicgKyB0ZXh0LnN1YnN0cihzdGFydHBvcyk7XG5cdFx0XHQgIH1cblx0XHRcdCAgaWYgKHJlc3VsdHNfZ3JvdXAgIT0gbnVsbCkge1xuXHRcdFx0XHRyZXN1bHRzX2dyb3VwLmdyb3VwX21hdGNoID0gdHJ1ZTtcblx0XHRcdCAgfVxuXHRcdFx0fSBlbHNlIGlmICgob3B0aW9uLmdyb3VwX2FycmF5X2luZGV4ICE9IG51bGwpICYmIHRoaXMucmVzdWx0c19kYXRhW29wdGlvbi5ncm91cF9hcnJheV9pbmRleF0uc2VhcmNoX21hdGNoKSB7XG5cdFx0XHQgIG9wdGlvbi5zZWFyY2hfbWF0Y2ggPSB0cnVlO1xuXHRcdFx0fVxuXHRcdCAgfVxuXHRcdH1cblx0ICB9XG5cdCAgdGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG5cdCAgaWYgKHJlc3VsdHMgPCAxICYmIHNlYXJjaFRleHQubGVuZ3RoKSB7XG5cdFx0dGhpcy51cGRhdGVfcmVzdWx0c19jb250ZW50KFwiXCIpO1xuXHRcdHJldHVybiB0aGlzLm5vX3Jlc3VsdHMoc2VhcmNoVGV4dCk7XG5cdCAgfSBlbHNlIHtcblx0XHR0aGlzLnVwZGF0ZV9yZXN1bHRzX2NvbnRlbnQodGhpcy5yZXN1bHRzX29wdGlvbl9idWlsZCgpKTtcblx0XHRyZXR1cm4gdGhpcy53aW5ub3dfcmVzdWx0c19zZXRfaGlnaGxpZ2h0KCk7XG5cdCAgfVxuXHR9O1xuXG5cdEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfc3RyaW5nX21hdGNoID0gZnVuY3Rpb24oc2VhcmNoX3N0cmluZywgcmVnZXgpIHtcblx0ICB2YXIgcGFydCwgcGFydHMsIF9pLCBfbGVuO1xuXG5cdCAgaWYgKHJlZ2V4LnRlc3Qoc2VhcmNoX3N0cmluZykpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0ICB9IGVsc2UgaWYgKHRoaXMuZW5hYmxlX3NwbGl0X3dvcmRfc2VhcmNoICYmIChzZWFyY2hfc3RyaW5nLmluZGV4T2YoXCIgXCIpID49IDAgfHwgc2VhcmNoX3N0cmluZy5pbmRleE9mKFwiW1wiKSA9PT0gMCkpIHtcblx0XHRwYXJ0cyA9IHNlYXJjaF9zdHJpbmcucmVwbGFjZSgvXFxbfFxcXS9nLCBcIlwiKS5zcGxpdChcIiBcIik7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCkge1xuXHRcdCAgZm9yIChfaSA9IDAsIF9sZW4gPSBwYXJ0cy5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuXHRcdFx0cGFydCA9IHBhcnRzW19pXTtcblx0XHRcdGlmIChyZWdleC50ZXN0KHBhcnQpKSB7XG5cdFx0XHQgIHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdCAgfVxuXHRcdH1cblx0ICB9XG5cdH07XG5cblx0QWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNob2ljZXNfY291bnQgPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgb3B0aW9uLCBfaSwgX2xlbiwgX3JlZjtcblxuXHQgIGlmICh0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudCAhPSBudWxsKSB7XG5cdFx0cmV0dXJuIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50O1xuXHQgIH1cblx0ICB0aGlzLnNlbGVjdGVkX29wdGlvbl9jb3VudCA9IDA7XG5cdCAgX3JlZiA9IHRoaXMuZm9ybV9maWVsZC5vcHRpb25zO1xuXHQgIGZvciAoX2kgPSAwLCBfbGVuID0gX3JlZi5sZW5ndGg7IF9pIDwgX2xlbjsgX2krKykge1xuXHRcdG9wdGlvbiA9IF9yZWZbX2ldO1xuXHRcdGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcblx0XHQgIHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ICs9IDE7XG5cdFx0fVxuXHQgIH1cblx0ICByZXR1cm4gdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQ7XG5cdH07XG5cblx0QWJzdHJhY3RDaG9zZW4ucHJvdG90eXBlLmNob2ljZXNfY2xpY2sgPSBmdW5jdGlvbihldnQpIHtcblx0ICBldnQucHJldmVudERlZmF1bHQoKTtcblx0ICBpZiAoISh0aGlzLnJlc3VsdHNfc2hvd2luZyB8fCB0aGlzLmlzX2Rpc2FibGVkKSkge1xuXHRcdHJldHVybiB0aGlzLnJlc3VsdHNfc2hvdygpO1xuXHQgIH1cblx0fTtcblxuXHRBYnN0cmFjdENob3Nlbi5wcm90b3R5cGUua2V5dXBfY2hlY2tlciA9IGZ1bmN0aW9uKGV2dCkge1xuXHQgIHZhciBzdHJva2UsIF9yZWY7XG5cblx0ICBzdHJva2UgPSAoX3JlZiA9IGV2dC53aGljaCkgIT0gbnVsbCA/IF9yZWYgOiBldnQua2V5Q29kZTtcblx0ICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuXHQgIHN3aXRjaCAoc3Ryb2tlKSB7XG5cdFx0Y2FzZSA4OlxuXHRcdCAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5iYWNrc3Ryb2tlX2xlbmd0aCA8IDEgJiYgdGhpcy5jaG9pY2VzX2NvdW50KCkgPiAwKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5rZXlkb3duX2JhY2tzdHJva2UoKTtcblx0XHQgIH0gZWxzZSBpZiAoIXRoaXMucGVuZGluZ19iYWNrc3Ryb2tlKSB7XG5cdFx0XHR0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcblx0XHRcdHJldHVybiB0aGlzLnJlc3VsdHNfc2VhcmNoKCk7XG5cdFx0ICB9XG5cdFx0ICBicmVhaztcblx0XHRjYXNlIDEzOlxuXHRcdCAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcblx0XHRcdHJldHVybiB0aGlzLnJlc3VsdF9zZWxlY3QoZXZ0KTtcblx0XHQgIH1cblx0XHQgIGJyZWFrO1xuXHRcdGNhc2UgMjc6XG5cdFx0ICBpZiAodGhpcy5yZXN1bHRzX3Nob3dpbmcpIHtcblx0XHRcdHRoaXMucmVzdWx0c19oaWRlKCk7XG5cdFx0ICB9XG5cdFx0ICByZXR1cm4gdHJ1ZTtcblx0XHRjYXNlIDk6XG5cdFx0Y2FzZSAzODpcblx0XHRjYXNlIDQwOlxuXHRcdGNhc2UgMTY6XG5cdFx0Y2FzZSA5MTpcblx0XHRjYXNlIDE3OlxuXHRcdCAgYnJlYWs7XG5cdFx0ZGVmYXVsdDpcblx0XHQgIHJldHVybiB0aGlzLnJlc3VsdHNfc2VhcmNoKCk7XG5cdCAgfVxuXHR9O1xuXG5cdEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5jb250YWluZXJfd2lkdGggPSBmdW5jdGlvbigpIHtcblx0ICBpZiAodGhpcy5vcHRpb25zLndpZHRoICE9IG51bGwpIHtcblx0XHRyZXR1cm4gdGhpcy5vcHRpb25zLndpZHRoO1xuXHQgIH0gZWxzZSB7XG5cdFx0cmV0dXJuIFwiXCIgKyB0aGlzLmZvcm1fZmllbGQub2Zmc2V0V2lkdGggKyBcInB4XCI7XG5cdCAgfVxuXHR9O1xuXG5cdEFic3RyYWN0Q2hvc2VuLnByb3RvdHlwZS5pbmNsdWRlX29wdGlvbl9pbl9yZXN1bHRzID0gZnVuY3Rpb24ob3B0aW9uKSB7XG5cdCAgaWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgKCF0aGlzLmRpc3BsYXlfc2VsZWN0ZWRfb3B0aW9ucyAmJiBvcHRpb24uc2VsZWN0ZWQpKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICBpZiAoIXRoaXMuZGlzcGxheV9kaXNhYmxlZF9vcHRpb25zICYmIG9wdGlvbi5kaXNhYmxlZCkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgaWYgKG9wdGlvbi5lbXB0eSkge1xuXHRcdHJldHVybiBmYWxzZTtcblx0ICB9XG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cblx0QWJzdHJhY3RDaG9zZW4uYnJvd3Nlcl9pc19zdXBwb3J0ZWQgPSBmdW5jdGlvbigpIHtcblx0ICBpZiAod2luZG93Lm5hdmlnYXRvci5hcHBOYW1lID09PSBcIk1pY3Jvc29mdCBJbnRlcm5ldCBFeHBsb3JlclwiKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50TW9kZSA+PSA4O1xuXHQgIH1cblx0ICBpZiAoL2lQKG9kfGhvbmUpL2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHQgIGlmICgvQW5kcm9pZC9pLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG5cdFx0aWYgKC9Nb2JpbGUvaS50ZXN0KHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdCAgcmV0dXJuIGZhbHNlO1xuXHRcdH1cblx0ICB9XG5cdCAgcmV0dXJuIHRydWU7XG5cdH07XG5cblx0QWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9tdWx0aXBsZV90ZXh0ID0gXCJTZWxlY3QgU29tZSBPcHRpb25zXCI7XG5cblx0QWJzdHJhY3RDaG9zZW4uZGVmYXVsdF9zaW5nbGVfdGV4dCA9IFwiU2VsZWN0IGFuIE9wdGlvblwiO1xuXG5cdEFic3RyYWN0Q2hvc2VuLmRlZmF1bHRfbm9fcmVzdWx0X3RleHQgPSBcIk5vIHJlc3VsdHMgbWF0Y2hcIjtcblxuXHRyZXR1cm4gQWJzdHJhY3RDaG9zZW47XG5cbiAgfSkoKTtcblxuICAkID0galF1ZXJ5O1xuXG4gICQuZm4uZXh0ZW5kKHtcblx0Y2hvc2VuOiBmdW5jdGlvbihvcHRpb25zKSB7XG5cdCAgaWYgKCFBYnN0cmFjdENob3Nlbi5icm93c2VyX2lzX3N1cHBvcnRlZCgpKSB7XG5cdFx0cmV0dXJuIHRoaXM7XG5cdCAgfVxuXHQgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oaW5wdXRfZmllbGQpIHtcblx0XHR2YXIgJHRoaXMsIGNob3NlbjtcblxuXHRcdCR0aGlzID0gJCh0aGlzKTtcblx0XHRjaG9zZW4gPSAkdGhpcy5kYXRhKCdjaG9zZW4nKTtcblx0XHRpZiAob3B0aW9ucyA9PT0gJ2Rlc3Ryb3knICYmIGNob3Nlbikge1xuXHRcdCAgY2hvc2VuLmRlc3Ryb3koKTtcblx0XHR9IGVsc2UgaWYgKCFjaG9zZW4pIHtcblx0XHQgICR0aGlzLmRhdGEoJ2Nob3NlbicsIG5ldyBDaG9zZW4odGhpcywgb3B0aW9ucykpO1xuXHRcdH1cblx0ICB9KTtcblx0fVxuICB9KTtcblxuICBDaG9zZW4gPSAoZnVuY3Rpb24oX3N1cGVyKSB7XG5cdF9fZXh0ZW5kcyhDaG9zZW4sIF9zdXBlcik7XG5cblx0ZnVuY3Rpb24gQ2hvc2VuKCkge1xuXHQgIF9yZWYgPSBDaG9zZW4uX19zdXBlcl9fLmNvbnN0cnVjdG9yLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG5cdCAgcmV0dXJuIF9yZWY7XG5cdH1cblxuXHRDaG9zZW4ucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5mb3JtX2ZpZWxkX2pxID0gJCh0aGlzLmZvcm1fZmllbGQpO1xuXHQgIHRoaXMuY3VycmVudF9zZWxlY3RlZEluZGV4ID0gdGhpcy5mb3JtX2ZpZWxkLnNlbGVjdGVkSW5kZXg7XG5cdCAgcmV0dXJuIHRoaXMuaXNfcnRsID0gdGhpcy5mb3JtX2ZpZWxkX2pxLmhhc0NsYXNzKFwiY2hvc2VuLXJ0bFwiKTtcblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLnNldF91cF9odG1sID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIGNvbnRhaW5lcl9jbGFzc2VzLCBjb250YWluZXJfcHJvcHM7XG5cblx0ICBjb250YWluZXJfY2xhc3NlcyA9IFtcImNob3Nlbi1jb250YWluZXJcIl07XG5cdCAgY29udGFpbmVyX2NsYXNzZXMucHVzaChcImNob3Nlbi1jb250YWluZXItXCIgKyAodGhpcy5pc19tdWx0aXBsZSA/IFwibXVsdGlcIiA6IFwic2luZ2xlXCIpKTtcblx0ICBpZiAodGhpcy5pbmhlcml0X3NlbGVjdF9jbGFzc2VzICYmIHRoaXMuZm9ybV9maWVsZC5jbGFzc05hbWUpIHtcblx0XHRjb250YWluZXJfY2xhc3Nlcy5wdXNoKHRoaXMuZm9ybV9maWVsZC5jbGFzc05hbWUpO1xuXHQgIH1cblx0ICBpZiAodGhpcy5pc19ydGwpIHtcblx0XHRjb250YWluZXJfY2xhc3Nlcy5wdXNoKFwiY2hvc2VuLXJ0bFwiKTtcblx0ICB9XG5cdCAgY29udGFpbmVyX3Byb3BzID0ge1xuXHRcdCdjbGFzcyc6IGNvbnRhaW5lcl9jbGFzc2VzLmpvaW4oJyAnKSxcblx0XHQndGl0bGUnOiB0aGlzLmZvcm1fZmllbGQudGl0bGVcblx0ICB9O1xuXHQgIGlmICh0aGlzLmZvcm1fZmllbGQuaWQubGVuZ3RoKSB7XG5cdFx0Y29udGFpbmVyX3Byb3BzLmlkID0gdGhpcy5mb3JtX2ZpZWxkLmlkLnJlcGxhY2UoL1teXFx3XS9nLCAnXycpICsgXCJfY2hvc2VuXCI7XG5cdCAgfVxuXHQgIHRoaXMuY29udGFpbmVyID0gJChcIjxkaXYgLz5cIiwgY29udGFpbmVyX3Byb3BzKTtcblx0ICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuXHRcdHRoaXMuY29udGFpbmVyLmh0bWwoJzx1bCBjbGFzcz1cImNob3Nlbi1jaG9pY2VzXCI+PGxpIGNsYXNzPVwic2VhcmNoLWZpZWxkXCI+PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdmFsdWU9XCInICsgdGhpcy5kZWZhdWx0X3RleHQgKyAnXCIgY2xhc3M9XCJkZWZhdWx0XCIgYXV0b2NvbXBsZXRlPVwib2ZmXCIgc3R5bGU9XCJ3aWR0aDoyNXB4O1wiIC8+PC9saT48L3VsPjxkaXYgY2xhc3M9XCJjaG9zZW4tZHJvcFwiPjx1bCBjbGFzcz1cImNob3Nlbi1yZXN1bHRzXCI+PC91bD48L2Rpdj4nKTtcblx0ICB9IGVsc2Uge1xuXHRcdHRoaXMuY29udGFpbmVyLmh0bWwoJzxhIGNsYXNzPVwiY2hvc2VuLXNpbmdsZSBjaG9zZW4tZGVmYXVsdFwiIHRhYmluZGV4PVwiLTFcIj48c3Bhbj4nICsgdGhpcy5kZWZhdWx0X3RleHQgKyAnPC9zcGFuPjxkaXY+PGI+PC9iPjwvZGl2PjwvYT48ZGl2IGNsYXNzPVwiY2hvc2VuLWRyb3BcIj48ZGl2IGNsYXNzPVwiY2hvc2VuLXNlYXJjaFwiPjxpbnB1dCB0eXBlPVwidGV4dFwiIGF1dG9jb21wbGV0ZT1cIm9mZlwiIC8+PC9kaXY+PHVsIGNsYXNzPVwiY2hvc2VuLXJlc3VsdHNcIj48L3VsPjwvZGl2PicpO1xuXHQgIH1cblx0ICB0aGlzLmZvcm1fZmllbGRfanEuaGlkZSgpLmFmdGVyKHRoaXMuY29udGFpbmVyKTtcblx0ICB0aGlzLmRyb3Bkb3duID0gdGhpcy5jb250YWluZXIuZmluZCgnZGl2LmNob3Nlbi1kcm9wJykuZmlyc3QoKTtcblx0ICB0aGlzLnNlYXJjaF9maWVsZCA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2lucHV0JykuZmlyc3QoKTtcblx0ICB0aGlzLnNlYXJjaF9yZXN1bHRzID0gdGhpcy5jb250YWluZXIuZmluZCgndWwuY2hvc2VuLXJlc3VsdHMnKS5maXJzdCgpO1xuXHQgIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG5cdCAgdGhpcy5zZWFyY2hfbm9fcmVzdWx0cyA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ2xpLm5vLXJlc3VsdHMnKS5maXJzdCgpO1xuXHQgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0dGhpcy5zZWFyY2hfY2hvaWNlcyA9IHRoaXMuY29udGFpbmVyLmZpbmQoJ3VsLmNob3Nlbi1jaG9pY2VzJykuZmlyc3QoKTtcblx0XHR0aGlzLnNlYXJjaF9jb250YWluZXIgPSB0aGlzLmNvbnRhaW5lci5maW5kKCdsaS5zZWFyY2gtZmllbGQnKS5maXJzdCgpO1xuXHQgIH0gZWxzZSB7XG5cdFx0dGhpcy5zZWFyY2hfY29udGFpbmVyID0gdGhpcy5jb250YWluZXIuZmluZCgnZGl2LmNob3Nlbi1zZWFyY2gnKS5maXJzdCgpO1xuXHRcdHRoaXMuc2VsZWN0ZWRfaXRlbSA9IHRoaXMuY29udGFpbmVyLmZpbmQoJy5jaG9zZW4tc2luZ2xlJykuZmlyc3QoKTtcblx0ICB9XG5cdCAgdGhpcy5yZXN1bHRzX2J1aWxkKCk7XG5cdCAgdGhpcy5zZXRfdGFiX2luZGV4KCk7XG5cdCAgdGhpcy5zZXRfbGFiZWxfYmVoYXZpb3IoKTtcblx0ICByZXR1cm4gdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46cmVhZHlcIiwge1xuXHRcdGNob3NlbjogdGhpc1xuXHQgIH0pO1xuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUucmVnaXN0ZXJfb2JzZXJ2ZXJzID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgIHRoaXMuY29udGFpbmVyLmJpbmQoJ21vdXNlZG93bi5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcblx0XHRfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XG5cdCAgfSk7XG5cdCAgdGhpcy5jb250YWluZXIuYmluZCgnbW91c2V1cC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcblx0XHRfdGhpcy5jb250YWluZXJfbW91c2V1cChldnQpO1xuXHQgIH0pO1xuXHQgIHRoaXMuY29udGFpbmVyLmJpbmQoJ21vdXNlZW50ZXIuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG5cdFx0X3RoaXMubW91c2VfZW50ZXIoZXZ0KTtcblx0ICB9KTtcblx0ICB0aGlzLmNvbnRhaW5lci5iaW5kKCdtb3VzZWxlYXZlLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuXHRcdF90aGlzLm1vdXNlX2xlYXZlKGV2dCk7XG5cdCAgfSk7XG5cdCAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCdtb3VzZXVwLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuXHRcdF90aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNldXAoZXZ0KTtcblx0ICB9KTtcblx0ICB0aGlzLnNlYXJjaF9yZXN1bHRzLmJpbmQoJ21vdXNlb3Zlci5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcblx0XHRfdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZW92ZXIoZXZ0KTtcblx0ICB9KTtcblx0ICB0aGlzLnNlYXJjaF9yZXN1bHRzLmJpbmQoJ21vdXNlb3V0LmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuXHRcdF90aGlzLnNlYXJjaF9yZXN1bHRzX21vdXNlb3V0KGV2dCk7XG5cdCAgfSk7XG5cdCAgdGhpcy5zZWFyY2hfcmVzdWx0cy5iaW5kKCdtb3VzZXdoZWVsLmNob3NlbiBET01Nb3VzZVNjcm9sbC5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcblx0XHRfdGhpcy5zZWFyY2hfcmVzdWx0c19tb3VzZXdoZWVsKGV2dCk7XG5cdCAgfSk7XG5cdCAgdGhpcy5mb3JtX2ZpZWxkX2pxLmJpbmQoXCJjaG9zZW46dXBkYXRlZC5jaG9zZW5cIiwgZnVuY3Rpb24oZXZ0KSB7XG5cdFx0X3RoaXMucmVzdWx0c191cGRhdGVfZmllbGQoZXZ0KTtcblx0ICB9KTtcblx0ICB0aGlzLmZvcm1fZmllbGRfanEuYmluZChcImNob3NlbjphY3RpdmF0ZS5jaG9zZW5cIiwgZnVuY3Rpb24oZXZ0KSB7XG5cdFx0X3RoaXMuYWN0aXZhdGVfZmllbGQoZXZ0KTtcblx0ICB9KTtcblx0ICB0aGlzLmZvcm1fZmllbGRfanEuYmluZChcImNob3NlbjpvcGVuLmNob3NlblwiLCBmdW5jdGlvbihldnQpIHtcblx0XHRfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XG5cdCAgfSk7XG5cdCAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgnYmx1ci5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcblx0XHRfdGhpcy5pbnB1dF9ibHVyKGV2dCk7XG5cdCAgfSk7XG5cdCAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgna2V5dXAuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG5cdFx0X3RoaXMua2V5dXBfY2hlY2tlcihldnQpO1xuXHQgIH0pO1xuXHQgIHRoaXMuc2VhcmNoX2ZpZWxkLmJpbmQoJ2tleWRvd24uY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG5cdFx0X3RoaXMua2V5ZG93bl9jaGVja2VyKGV2dCk7XG5cdCAgfSk7XG5cdCAgdGhpcy5zZWFyY2hfZmllbGQuYmluZCgnZm9jdXMuY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG5cdFx0X3RoaXMuaW5wdXRfZm9jdXMoZXZ0KTtcblx0ICB9KTtcblx0ICBpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuXHRcdHJldHVybiB0aGlzLnNlYXJjaF9jaG9pY2VzLmJpbmQoJ2NsaWNrLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuXHRcdCAgX3RoaXMuY2hvaWNlc19jbGljayhldnQpO1xuXHRcdH0pO1xuXHQgIH0gZWxzZSB7XG5cdFx0cmV0dXJuIHRoaXMuY29udGFpbmVyLmJpbmQoJ2NsaWNrLmNob3NlbicsIGZ1bmN0aW9uKGV2dCkge1xuXHRcdCAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0fSk7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uKCkge1xuXHQgICQoZG9jdW1lbnQpLnVuYmluZChcImNsaWNrLmNob3NlblwiLCB0aGlzLmNsaWNrX3Rlc3RfYWN0aW9uKTtcblx0ICBpZiAodGhpcy5zZWFyY2hfZmllbGRbMF0udGFiSW5kZXgpIHtcblx0XHR0aGlzLmZvcm1fZmllbGRfanFbMF0udGFiSW5kZXggPSB0aGlzLnNlYXJjaF9maWVsZFswXS50YWJJbmRleDtcblx0ICB9XG5cdCAgdGhpcy5jb250YWluZXIucmVtb3ZlKCk7XG5cdCAgdGhpcy5mb3JtX2ZpZWxkX2pxLnJlbW92ZURhdGEoJ2Nob3NlbicpO1xuXHQgIHJldHVybiB0aGlzLmZvcm1fZmllbGRfanEuc2hvdygpO1xuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX2ZpZWxkX2Rpc2FibGVkID0gZnVuY3Rpb24oKSB7XG5cdCAgdGhpcy5pc19kaXNhYmxlZCA9IHRoaXMuZm9ybV9maWVsZF9qcVswXS5kaXNhYmxlZDtcblx0ICBpZiAodGhpcy5pc19kaXNhYmxlZCkge1xuXHRcdHRoaXMuY29udGFpbmVyLmFkZENsYXNzKCdjaG9zZW4tZGlzYWJsZWQnKTtcblx0XHR0aGlzLnNlYXJjaF9maWVsZFswXS5kaXNhYmxlZCA9IHRydWU7XG5cdFx0aWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0ICB0aGlzLnNlbGVjdGVkX2l0ZW0udW5iaW5kKFwiZm9jdXMuY2hvc2VuXCIsIHRoaXMuYWN0aXZhdGVfYWN0aW9uKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRoaXMuY2xvc2VfZmllbGQoKTtcblx0ICB9IGVsc2Uge1xuXHRcdHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKCdjaG9zZW4tZGlzYWJsZWQnKTtcblx0XHR0aGlzLnNlYXJjaF9maWVsZFswXS5kaXNhYmxlZCA9IGZhbHNlO1xuXHRcdGlmICghdGhpcy5pc19tdWx0aXBsZSkge1xuXHRcdCAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfaXRlbS5iaW5kKFwiZm9jdXMuY2hvc2VuXCIsIHRoaXMuYWN0aXZhdGVfYWN0aW9uKTtcblx0XHR9XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuY29udGFpbmVyX21vdXNlZG93biA9IGZ1bmN0aW9uKGV2dCkge1xuXHQgIGlmICghdGhpcy5pc19kaXNhYmxlZCkge1xuXHRcdGlmIChldnQgJiYgZXZ0LnR5cGUgPT09IFwibW91c2Vkb3duXCIgJiYgIXRoaXMucmVzdWx0c19zaG93aW5nKSB7XG5cdFx0ICBldnQucHJldmVudERlZmF1bHQoKTtcblx0XHR9XG5cdFx0aWYgKCEoKGV2dCAhPSBudWxsKSAmJiAoJChldnQudGFyZ2V0KSkuaGFzQ2xhc3MoXCJzZWFyY2gtY2hvaWNlLWNsb3NlXCIpKSkge1xuXHRcdCAgaWYgKCF0aGlzLmFjdGl2ZV9maWVsZCkge1xuXHRcdFx0aWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcblx0XHRcdCAgdGhpcy5zZWFyY2hfZmllbGQudmFsKFwiXCIpO1xuXHRcdFx0fVxuXHRcdFx0JChkb2N1bWVudCkuYmluZCgnY2xpY2suY2hvc2VuJywgdGhpcy5jbGlja190ZXN0X2FjdGlvbik7XG5cdFx0XHR0aGlzLnJlc3VsdHNfc2hvdygpO1xuXHRcdCAgfSBlbHNlIGlmICghdGhpcy5pc19tdWx0aXBsZSAmJiBldnQgJiYgKCgkKGV2dC50YXJnZXQpWzBdID09PSB0aGlzLnNlbGVjdGVkX2l0ZW1bMF0pIHx8ICQoZXZ0LnRhcmdldCkucGFyZW50cyhcImEuY2hvc2VuLXNpbmdsZVwiKS5sZW5ndGgpKSB7XG5cdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHRoaXMucmVzdWx0c190b2dnbGUoKTtcblx0XHQgIH1cblx0XHQgIHJldHVybiB0aGlzLmFjdGl2YXRlX2ZpZWxkKCk7XG5cdFx0fVxuXHQgIH1cblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLmNvbnRhaW5lcl9tb3VzZXVwID0gZnVuY3Rpb24oZXZ0KSB7XG5cdCAgaWYgKGV2dC50YXJnZXQubm9kZU5hbWUgPT09IFwiQUJCUlwiICYmICF0aGlzLmlzX2Rpc2FibGVkKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVzdWx0c19yZXNldChldnQpO1xuXHQgIH1cblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9yZXN1bHRzX21vdXNld2hlZWwgPSBmdW5jdGlvbihldnQpIHtcblx0ICB2YXIgZGVsdGEsIF9yZWYxLCBfcmVmMjtcblxuXHQgIGRlbHRhID0gLSgoX3JlZjEgPSBldnQub3JpZ2luYWxFdmVudCkgIT0gbnVsbCA/IF9yZWYxLndoZWVsRGVsdGEgOiB2b2lkIDApIHx8ICgoX3JlZjIgPSBldnQub3JpZ2luaWFsRXZlbnQpICE9IG51bGwgPyBfcmVmMi5kZXRhaWwgOiB2b2lkIDApO1xuXHQgIGlmIChkZWx0YSAhPSBudWxsKSB7XG5cdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0aWYgKGV2dC50eXBlID09PSAnRE9NTW91c2VTY3JvbGwnKSB7XG5cdFx0ICBkZWx0YSA9IGRlbHRhICogNDA7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnNlYXJjaF9yZXN1bHRzLnNjcm9sbFRvcChkZWx0YSArIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKCkpO1xuXHQgIH1cblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLmJsdXJfdGVzdCA9IGZ1bmN0aW9uKGV2dCkge1xuXHQgIGlmICghdGhpcy5hY3RpdmVfZmllbGQgJiYgdGhpcy5jb250YWluZXIuaGFzQ2xhc3MoXCJjaG9zZW4tY29udGFpbmVyLWFjdGl2ZVwiKSkge1xuXHRcdHJldHVybiB0aGlzLmNsb3NlX2ZpZWxkKCk7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuY2xvc2VfZmllbGQgPSBmdW5jdGlvbigpIHtcblx0ICAkKGRvY3VtZW50KS51bmJpbmQoXCJjbGljay5jaG9zZW5cIiwgdGhpcy5jbGlja190ZXN0X2FjdGlvbik7XG5cdCAgdGhpcy5hY3RpdmVfZmllbGQgPSBmYWxzZTtcblx0ICB0aGlzLnJlc3VsdHNfaGlkZSgpO1xuXHQgIHRoaXMuY29udGFpbmVyLnJlbW92ZUNsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIik7XG5cdCAgdGhpcy5jbGVhcl9iYWNrc3Ryb2tlKCk7XG5cdCAgdGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XG5cdCAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5hY3RpdmF0ZV9maWVsZCA9IGZ1bmN0aW9uKCkge1xuXHQgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1hY3RpdmVcIik7XG5cdCAgdGhpcy5hY3RpdmVfZmllbGQgPSB0cnVlO1xuXHQgIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCh0aGlzLnNlYXJjaF9maWVsZC52YWwoKSk7XG5cdCAgcmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLmZvY3VzKCk7XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS50ZXN0X2FjdGl2ZV9jbGljayA9IGZ1bmN0aW9uKGV2dCkge1xuXHQgIGlmICh0aGlzLmNvbnRhaW5lci5pcygkKGV2dC50YXJnZXQpLmNsb3Nlc3QoJy5jaG9zZW4tY29udGFpbmVyJykpKSB7XG5cdFx0cmV0dXJuIHRoaXMuYWN0aXZlX2ZpZWxkID0gdHJ1ZTtcblx0ICB9IGVsc2Uge1xuXHRcdHJldHVybiB0aGlzLmNsb3NlX2ZpZWxkKCk7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19idWlsZCA9IGZ1bmN0aW9uKCkge1xuXHQgIHRoaXMucGFyc2luZyA9IHRydWU7XG5cdCAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSBudWxsO1xuXHQgIHRoaXMucmVzdWx0c19kYXRhID0gU2VsZWN0UGFyc2VyLnNlbGVjdF90b19hcnJheSh0aGlzLmZvcm1fZmllbGQpO1xuXHQgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0dGhpcy5zZWFyY2hfY2hvaWNlcy5maW5kKFwibGkuc2VhcmNoLWNob2ljZVwiKS5yZW1vdmUoKTtcblx0ICB9IGVsc2UgaWYgKCF0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0dGhpcy5zaW5nbGVfc2V0X3NlbGVjdGVkX3RleHQoKTtcblx0XHRpZiAodGhpcy5kaXNhYmxlX3NlYXJjaCB8fCB0aGlzLmZvcm1fZmllbGQub3B0aW9ucy5sZW5ndGggPD0gdGhpcy5kaXNhYmxlX3NlYXJjaF90aHJlc2hvbGQpIHtcblx0XHQgIHRoaXMuc2VhcmNoX2ZpZWxkWzBdLnJlYWRPbmx5ID0gdHJ1ZTtcblx0XHQgIHRoaXMuY29udGFpbmVyLmFkZENsYXNzKFwiY2hvc2VuLWNvbnRhaW5lci1zaW5nbGUtbm9zZWFyY2hcIik7XG5cdFx0fSBlbHNlIHtcblx0XHQgIHRoaXMuc2VhcmNoX2ZpZWxkWzBdLnJlYWRPbmx5ID0gZmFsc2U7XG5cdFx0ICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImNob3Nlbi1jb250YWluZXItc2luZ2xlLW5vc2VhcmNoXCIpO1xuXHRcdH1cblx0ICB9XG5cdCAgdGhpcy51cGRhdGVfcmVzdWx0c19jb250ZW50KHRoaXMucmVzdWx0c19vcHRpb25fYnVpbGQoe1xuXHRcdGZpcnN0OiB0cnVlXG5cdCAgfSkpO1xuXHQgIHRoaXMuc2VhcmNoX2ZpZWxkX2Rpc2FibGVkKCk7XG5cdCAgdGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XG5cdCAgdGhpcy5zZWFyY2hfZmllbGRfc2NhbGUoKTtcblx0ICByZXR1cm4gdGhpcy5wYXJzaW5nID0gZmFsc2U7XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRfZG9faGlnaGxpZ2h0ID0gZnVuY3Rpb24oZWwpIHtcblx0ICB2YXIgaGlnaF9ib3R0b20sIGhpZ2hfdG9wLCBtYXhIZWlnaHQsIHZpc2libGVfYm90dG9tLCB2aXNpYmxlX3RvcDtcblxuXHQgIGlmIChlbC5sZW5ndGgpIHtcblx0XHR0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcblx0XHR0aGlzLnJlc3VsdF9oaWdobGlnaHQgPSBlbDtcblx0XHR0aGlzLnJlc3VsdF9oaWdobGlnaHQuYWRkQ2xhc3MoXCJoaWdobGlnaHRlZFwiKTtcblx0XHRtYXhIZWlnaHQgPSBwYXJzZUludCh0aGlzLnNlYXJjaF9yZXN1bHRzLmNzcyhcIm1heEhlaWdodFwiKSwgMTApO1xuXHRcdHZpc2libGVfdG9wID0gdGhpcy5zZWFyY2hfcmVzdWx0cy5zY3JvbGxUb3AoKTtcblx0XHR2aXNpYmxlX2JvdHRvbSA9IG1heEhlaWdodCArIHZpc2libGVfdG9wO1xuXHRcdGhpZ2hfdG9wID0gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0LnBvc2l0aW9uKCkudG9wICsgdGhpcy5zZWFyY2hfcmVzdWx0cy5zY3JvbGxUb3AoKTtcblx0XHRoaWdoX2JvdHRvbSA9IGhpZ2hfdG9wICsgdGhpcy5yZXN1bHRfaGlnaGxpZ2h0Lm91dGVySGVpZ2h0KCk7XG5cdFx0aWYgKGhpZ2hfYm90dG9tID49IHZpc2libGVfYm90dG9tKSB7XG5cdFx0ICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0cy5zY3JvbGxUb3AoKGhpZ2hfYm90dG9tIC0gbWF4SGVpZ2h0KSA+IDAgPyBoaWdoX2JvdHRvbSAtIG1heEhlaWdodCA6IDApO1xuXHRcdH0gZWxzZSBpZiAoaGlnaF90b3AgPCB2aXNpYmxlX3RvcCkge1xuXHRcdCAgcmV0dXJuIHRoaXMuc2VhcmNoX3Jlc3VsdHMuc2Nyb2xsVG9wKGhpZ2hfdG9wKTtcblx0XHR9XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCA9IGZ1bmN0aW9uKCkge1xuXHQgIGlmICh0aGlzLnJlc3VsdF9oaWdobGlnaHQpIHtcblx0XHR0aGlzLnJlc3VsdF9oaWdobGlnaHQucmVtb3ZlQ2xhc3MoXCJoaWdobGlnaHRlZFwiKTtcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXMucmVzdWx0X2hpZ2hsaWdodCA9IG51bGw7XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3Nob3cgPSBmdW5jdGlvbigpIHtcblx0ICBpZiAodGhpcy5pc19tdWx0aXBsZSAmJiB0aGlzLm1heF9zZWxlY3RlZF9vcHRpb25zIDw9IHRoaXMuY2hvaWNlc19jb3VudCgpKSB7XG5cdFx0dGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46bWF4c2VsZWN0ZWRcIiwge1xuXHRcdCAgY2hvc2VuOiB0aGlzXG5cdFx0fSk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHQgIH1cblx0ICB0aGlzLmNvbnRhaW5lci5hZGRDbGFzcyhcImNob3Nlbi13aXRoLWRyb3BcIik7XG5cdCAgdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46c2hvd2luZ19kcm9wZG93blwiLCB7XG5cdFx0Y2hvc2VuOiB0aGlzXG5cdCAgfSk7XG5cdCAgdGhpcy5yZXN1bHRzX3Nob3dpbmcgPSB0cnVlO1xuXHQgIHRoaXMuc2VhcmNoX2ZpZWxkLmZvY3VzKCk7XG5cdCAgdGhpcy5zZWFyY2hfZmllbGQudmFsKHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpKTtcblx0ICByZXR1cm4gdGhpcy53aW5ub3dfcmVzdWx0cygpO1xuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUudXBkYXRlX3Jlc3VsdHNfY29udGVudCA9IGZ1bmN0aW9uKGNvbnRlbnQpIHtcblx0ICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0cy5odG1sKGNvbnRlbnQpO1xuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUucmVzdWx0c19oaWRlID0gZnVuY3Rpb24oKSB7XG5cdCAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nKSB7XG5cdFx0dGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG5cdFx0dGhpcy5jb250YWluZXIucmVtb3ZlQ2xhc3MoXCJjaG9zZW4td2l0aC1kcm9wXCIpO1xuXHRcdHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hvc2VuOmhpZGluZ19kcm9wZG93blwiLCB7XG5cdFx0ICBjaG9zZW46IHRoaXNcblx0XHR9KTtcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXMucmVzdWx0c19zaG93aW5nID0gZmFsc2U7XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5zZXRfdGFiX2luZGV4ID0gZnVuY3Rpb24oZWwpIHtcblx0ICB2YXIgdGk7XG5cblx0ICBpZiAodGhpcy5mb3JtX2ZpZWxkLnRhYkluZGV4KSB7XG5cdFx0dGkgPSB0aGlzLmZvcm1fZmllbGQudGFiSW5kZXg7XG5cdFx0dGhpcy5mb3JtX2ZpZWxkLnRhYkluZGV4ID0gLTE7XG5cdFx0cmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkWzBdLnRhYkluZGV4ID0gdGk7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuc2V0X2xhYmVsX2JlaGF2aW9yID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIF90aGlzID0gdGhpcztcblxuXHQgIHRoaXMuZm9ybV9maWVsZF9sYWJlbCA9IHRoaXMuZm9ybV9maWVsZF9qcS5wYXJlbnRzKFwibGFiZWxcIik7XG5cdCAgaWYgKCF0aGlzLmZvcm1fZmllbGRfbGFiZWwubGVuZ3RoICYmIHRoaXMuZm9ybV9maWVsZC5pZC5sZW5ndGgpIHtcblx0XHR0aGlzLmZvcm1fZmllbGRfbGFiZWwgPSAkKFwibGFiZWxbZm9yPSdcIiArIHRoaXMuZm9ybV9maWVsZC5pZCArIFwiJ11cIik7XG5cdCAgfVxuXHQgIGlmICh0aGlzLmZvcm1fZmllbGRfbGFiZWwubGVuZ3RoID4gMCkge1xuXHRcdHJldHVybiB0aGlzLmZvcm1fZmllbGRfbGFiZWwuYmluZCgnY2xpY2suY2hvc2VuJywgZnVuY3Rpb24oZXZ0KSB7XG5cdFx0ICBpZiAoX3RoaXMuaXNfbXVsdGlwbGUpIHtcblx0XHRcdHJldHVybiBfdGhpcy5jb250YWluZXJfbW91c2Vkb3duKGV2dCk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIF90aGlzLmFjdGl2YXRlX2ZpZWxkKCk7XG5cdFx0ICB9XG5cdFx0fSk7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuc2hvd19zZWFyY2hfZmllbGRfZGVmYXVsdCA9IGZ1bmN0aW9uKCkge1xuXHQgIGlmICh0aGlzLmlzX211bHRpcGxlICYmIHRoaXMuY2hvaWNlc19jb3VudCgpIDwgMSAmJiAhdGhpcy5hY3RpdmVfZmllbGQpIHtcblx0XHR0aGlzLnNlYXJjaF9maWVsZC52YWwodGhpcy5kZWZhdWx0X3RleHQpO1xuXHRcdHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5hZGRDbGFzcyhcImRlZmF1bHRcIik7XG5cdCAgfSBlbHNlIHtcblx0XHR0aGlzLnNlYXJjaF9maWVsZC52YWwoXCJcIik7XG5cdFx0cmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLnJlbW92ZUNsYXNzKFwiZGVmYXVsdFwiKTtcblx0ICB9XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c19tb3VzZXVwID0gZnVuY3Rpb24oZXZ0KSB7XG5cdCAgdmFyIHRhcmdldDtcblxuXHQgIHRhcmdldCA9ICQoZXZ0LnRhcmdldCkuaGFzQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIpID8gJChldnQudGFyZ2V0KSA6ICQoZXZ0LnRhcmdldCkucGFyZW50cyhcIi5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG5cdCAgaWYgKHRhcmdldC5sZW5ndGgpIHtcblx0XHR0aGlzLnJlc3VsdF9oaWdobGlnaHQgPSB0YXJnZXQ7XG5cdFx0dGhpcy5yZXN1bHRfc2VsZWN0KGV2dCk7XG5cdFx0cmV0dXJuIHRoaXMuc2VhcmNoX2ZpZWxkLmZvY3VzKCk7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuc2VhcmNoX3Jlc3VsdHNfbW91c2VvdmVyID0gZnVuY3Rpb24oZXZ0KSB7XG5cdCAgdmFyIHRhcmdldDtcblxuXHQgIHRhcmdldCA9ICQoZXZ0LnRhcmdldCkuaGFzQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIpID8gJChldnQudGFyZ2V0KSA6ICQoZXZ0LnRhcmdldCkucGFyZW50cyhcIi5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG5cdCAgaWYgKHRhcmdldCkge1xuXHRcdHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQodGFyZ2V0KTtcblx0ICB9XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5zZWFyY2hfcmVzdWx0c19tb3VzZW91dCA9IGZ1bmN0aW9uKGV2dCkge1xuXHQgIGlmICgkKGV2dC50YXJnZXQpLmhhc0NsYXNzKFwiYWN0aXZlLXJlc3VsdFwiIHx8ICQoZXZ0LnRhcmdldCkucGFyZW50cygnLmFjdGl2ZS1yZXN1bHQnKS5maXJzdCgpKSkge1xuXHRcdHJldHVybiB0aGlzLnJlc3VsdF9jbGVhcl9oaWdobGlnaHQoKTtcblx0ICB9XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5jaG9pY2VfYnVpbGQgPSBmdW5jdGlvbihpdGVtKSB7XG5cdCAgdmFyIGNob2ljZSwgY2xvc2VfbGluayxcblx0XHRfdGhpcyA9IHRoaXM7XG5cblx0ICBjaG9pY2UgPSAkKCc8bGkgLz4nLCB7XG5cdFx0XCJjbGFzc1wiOiBcInNlYXJjaC1jaG9pY2VcIlxuXHQgIH0pLmh0bWwoXCI8c3Bhbj5cIiArIGl0ZW0uaHRtbCArIFwiPC9zcGFuPlwiKTtcblx0ICBpZiAoaXRlbS5kaXNhYmxlZCkge1xuXHRcdGNob2ljZS5hZGRDbGFzcygnc2VhcmNoLWNob2ljZS1kaXNhYmxlZCcpO1xuXHQgIH0gZWxzZSB7XG5cdFx0Y2xvc2VfbGluayA9ICQoJzxhIC8+Jywge1xuXHRcdCAgXCJjbGFzc1wiOiAnc2VhcmNoLWNob2ljZS1jbG9zZScsXG5cdFx0ICAnZGF0YS1vcHRpb24tYXJyYXktaW5kZXgnOiBpdGVtLmFycmF5X2luZGV4XG5cdFx0fSk7XG5cdFx0Y2xvc2VfbGluay5iaW5kKCdjbGljay5jaG9zZW4nLCBmdW5jdGlvbihldnQpIHtcblx0XHQgIHJldHVybiBfdGhpcy5jaG9pY2VfZGVzdHJveV9saW5rX2NsaWNrKGV2dCk7XG5cdFx0fSk7XG5cdFx0Y2hvaWNlLmFwcGVuZChjbG9zZV9saW5rKTtcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXMuc2VhcmNoX2NvbnRhaW5lci5iZWZvcmUoY2hvaWNlKTtcblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLmNob2ljZV9kZXN0cm95X2xpbmtfY2xpY2sgPSBmdW5jdGlvbihldnQpIHtcblx0ICBldnQucHJldmVudERlZmF1bHQoKTtcblx0ICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cdCAgaWYgKCF0aGlzLmlzX2Rpc2FibGVkKSB7XG5cdFx0cmV0dXJuIHRoaXMuY2hvaWNlX2Rlc3Ryb3koJChldnQudGFyZ2V0KSk7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuY2hvaWNlX2Rlc3Ryb3kgPSBmdW5jdGlvbihsaW5rKSB7XG5cdCAgaWYgKHRoaXMucmVzdWx0X2Rlc2VsZWN0KGxpbmtbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb24tYXJyYXktaW5kZXhcIikpKSB7XG5cdFx0dGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XG5cdFx0aWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5jaG9pY2VzX2NvdW50KCkgPiAwICYmIHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpLmxlbmd0aCA8IDEpIHtcblx0XHQgIHRoaXMucmVzdWx0c19oaWRlKCk7XG5cdFx0fVxuXHRcdGxpbmsucGFyZW50cygnbGknKS5maXJzdCgpLnJlbW92ZSgpO1xuXHRcdHJldHVybiB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuXHQgIH1cblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLnJlc3VsdHNfcmVzZXQgPSBmdW5jdGlvbigpIHtcblx0ICB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1swXS5zZWxlY3RlZCA9IHRydWU7XG5cdCAgdGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSBudWxsO1xuXHQgIHRoaXMuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0KCk7XG5cdCAgdGhpcy5zaG93X3NlYXJjaF9maWVsZF9kZWZhdWx0KCk7XG5cdCAgdGhpcy5yZXN1bHRzX3Jlc2V0X2NsZWFudXAoKTtcblx0ICB0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNoYW5nZVwiKTtcblx0ICBpZiAodGhpcy5hY3RpdmVfZmllbGQpIHtcblx0XHRyZXR1cm4gdGhpcy5yZXN1bHRzX2hpZGUoKTtcblx0ICB9XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRzX3Jlc2V0X2NsZWFudXAgPSBmdW5jdGlvbigpIHtcblx0ICB0aGlzLmN1cnJlbnRfc2VsZWN0ZWRJbmRleCA9IHRoaXMuZm9ybV9maWVsZC5zZWxlY3RlZEluZGV4O1xuXHQgIHJldHVybiB0aGlzLnNlbGVjdGVkX2l0ZW0uZmluZChcImFiYnJcIikucmVtb3ZlKCk7XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5yZXN1bHRfc2VsZWN0ID0gZnVuY3Rpb24oZXZ0KSB7XG5cdCAgdmFyIGhpZ2gsIGl0ZW0sIHNlbGVjdGVkX2luZGV4O1xuXG5cdCAgaWYgKHRoaXMucmVzdWx0X2hpZ2hsaWdodCkge1xuXHRcdGhpZ2ggPSB0aGlzLnJlc3VsdF9oaWdobGlnaHQ7XG5cdFx0dGhpcy5yZXN1bHRfY2xlYXJfaGlnaGxpZ2h0KCk7XG5cdFx0aWYgKHRoaXMuaXNfbXVsdGlwbGUgJiYgdGhpcy5tYXhfc2VsZWN0ZWRfb3B0aW9ucyA8PSB0aGlzLmNob2ljZXNfY291bnQoKSkge1xuXHRcdCAgdGhpcy5mb3JtX2ZpZWxkX2pxLnRyaWdnZXIoXCJjaG9zZW46bWF4c2VsZWN0ZWRcIiwge1xuXHRcdFx0Y2hvc2VuOiB0aGlzXG5cdFx0ICB9KTtcblx0XHQgIHJldHVybiBmYWxzZTtcblx0XHR9XG5cdFx0aWYgKHRoaXMuaXNfbXVsdGlwbGUpIHtcblx0XHQgIGhpZ2gucmVtb3ZlQ2xhc3MoXCJhY3RpdmUtcmVzdWx0XCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0ICBpZiAodGhpcy5yZXN1bHRfc2luZ2xlX3NlbGVjdGVkKSB7XG5cdFx0XHR0aGlzLnJlc3VsdF9zaW5nbGVfc2VsZWN0ZWQucmVtb3ZlQ2xhc3MoXCJyZXN1bHQtc2VsZWN0ZWRcIik7XG5cdFx0XHRzZWxlY3RlZF9pbmRleCA9IHRoaXMucmVzdWx0X3NpbmdsZV9zZWxlY3RlZFswXS5nZXRBdHRyaWJ1dGUoJ2RhdGEtb3B0aW9uLWFycmF5LWluZGV4Jyk7XG5cdFx0XHR0aGlzLnJlc3VsdHNfZGF0YVtzZWxlY3RlZF9pbmRleF0uc2VsZWN0ZWQgPSBmYWxzZTtcblx0XHQgIH1cblx0XHQgIHRoaXMucmVzdWx0X3NpbmdsZV9zZWxlY3RlZCA9IGhpZ2g7XG5cdFx0fVxuXHRcdGhpZ2guYWRkQ2xhc3MoXCJyZXN1bHQtc2VsZWN0ZWRcIik7XG5cdFx0aXRlbSA9IHRoaXMucmVzdWx0c19kYXRhW2hpZ2hbMF0uZ2V0QXR0cmlidXRlKFwiZGF0YS1vcHRpb24tYXJyYXktaW5kZXhcIildO1xuXHRcdGl0ZW0uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdHRoaXMuZm9ybV9maWVsZC5vcHRpb25zW2l0ZW0ub3B0aW9uc19pbmRleF0uc2VsZWN0ZWQgPSB0cnVlO1xuXHRcdHRoaXMuc2VsZWN0ZWRfb3B0aW9uX2NvdW50ID0gbnVsbDtcblx0XHRpZiAodGhpcy5pc19tdWx0aXBsZSkge1xuXHRcdCAgdGhpcy5jaG9pY2VfYnVpbGQoaXRlbSk7XG5cdFx0fSBlbHNlIHtcblx0XHQgIHRoaXMuc2luZ2xlX3NldF9zZWxlY3RlZF90ZXh0KGl0ZW0udGV4dCk7XG5cdFx0fVxuXHRcdGlmICghKChldnQubWV0YUtleSB8fCBldnQuY3RybEtleSkgJiYgdGhpcy5pc19tdWx0aXBsZSkpIHtcblx0XHQgIHRoaXMucmVzdWx0c19oaWRlKCk7XG5cdFx0fVxuXHRcdHRoaXMuc2VhcmNoX2ZpZWxkLnZhbChcIlwiKTtcblx0XHRpZiAodGhpcy5pc19tdWx0aXBsZSB8fCB0aGlzLmZvcm1fZmllbGQuc2VsZWN0ZWRJbmRleCAhPT0gdGhpcy5jdXJyZW50X3NlbGVjdGVkSW5kZXgpIHtcblx0XHQgIHRoaXMuZm9ybV9maWVsZF9qcS50cmlnZ2VyKFwiY2hhbmdlXCIsIHtcblx0XHRcdCdzZWxlY3RlZCc6IHRoaXMuZm9ybV9maWVsZC5vcHRpb25zW2l0ZW0ub3B0aW9uc19pbmRleF0udmFsdWVcblx0XHQgIH0pO1xuXHRcdH1cblx0XHR0aGlzLmN1cnJlbnRfc2VsZWN0ZWRJbmRleCA9IHRoaXMuZm9ybV9maWVsZC5zZWxlY3RlZEluZGV4O1xuXHRcdHJldHVybiB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuXHQgIH1cblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLnNpbmdsZV9zZXRfc2VsZWN0ZWRfdGV4dCA9IGZ1bmN0aW9uKHRleHQpIHtcblx0ICBpZiAodGV4dCA9PSBudWxsKSB7XG5cdFx0dGV4dCA9IHRoaXMuZGVmYXVsdF90ZXh0O1xuXHQgIH1cblx0ICBpZiAodGV4dCA9PT0gdGhpcy5kZWZhdWx0X3RleHQpIHtcblx0XHR0aGlzLnNlbGVjdGVkX2l0ZW0uYWRkQ2xhc3MoXCJjaG9zZW4tZGVmYXVsdFwiKTtcblx0ICB9IGVsc2Uge1xuXHRcdHRoaXMuc2luZ2xlX2Rlc2VsZWN0X2NvbnRyb2xfYnVpbGQoKTtcblx0XHR0aGlzLnNlbGVjdGVkX2l0ZW0ucmVtb3ZlQ2xhc3MoXCJjaG9zZW4tZGVmYXVsdFwiKTtcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXMuc2VsZWN0ZWRfaXRlbS5maW5kKFwic3BhblwiKS50ZXh0KHRleHQpO1xuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUucmVzdWx0X2Rlc2VsZWN0ID0gZnVuY3Rpb24ocG9zKSB7XG5cdCAgdmFyIHJlc3VsdF9kYXRhO1xuXG5cdCAgcmVzdWx0X2RhdGEgPSB0aGlzLnJlc3VsdHNfZGF0YVtwb3NdO1xuXHQgIGlmICghdGhpcy5mb3JtX2ZpZWxkLm9wdGlvbnNbcmVzdWx0X2RhdGEub3B0aW9uc19pbmRleF0uZGlzYWJsZWQpIHtcblx0XHRyZXN1bHRfZGF0YS5zZWxlY3RlZCA9IGZhbHNlO1xuXHRcdHRoaXMuZm9ybV9maWVsZC5vcHRpb25zW3Jlc3VsdF9kYXRhLm9wdGlvbnNfaW5kZXhdLnNlbGVjdGVkID0gZmFsc2U7XG5cdFx0dGhpcy5zZWxlY3RlZF9vcHRpb25fY291bnQgPSBudWxsO1xuXHRcdHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuXHRcdGlmICh0aGlzLnJlc3VsdHNfc2hvd2luZykge1xuXHRcdCAgdGhpcy53aW5ub3dfcmVzdWx0cygpO1xuXHRcdH1cblx0XHR0aGlzLmZvcm1fZmllbGRfanEudHJpZ2dlcihcImNoYW5nZVwiLCB7XG5cdFx0ICBkZXNlbGVjdGVkOiB0aGlzLmZvcm1fZmllbGQub3B0aW9uc1tyZXN1bHRfZGF0YS5vcHRpb25zX2luZGV4XS52YWx1ZVxuXHRcdH0pO1xuXHRcdHRoaXMuc2VhcmNoX2ZpZWxkX3NjYWxlKCk7XG5cdFx0cmV0dXJuIHRydWU7XG5cdCAgfSBlbHNlIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuc2luZ2xlX2Rlc2VsZWN0X2NvbnRyb2xfYnVpbGQgPSBmdW5jdGlvbigpIHtcblx0ICBpZiAoIXRoaXMuYWxsb3dfc2luZ2xlX2Rlc2VsZWN0KSB7XG5cdFx0cmV0dXJuO1xuXHQgIH1cblx0ICBpZiAoIXRoaXMuc2VsZWN0ZWRfaXRlbS5maW5kKFwiYWJiclwiKS5sZW5ndGgpIHtcblx0XHR0aGlzLnNlbGVjdGVkX2l0ZW0uZmluZChcInNwYW5cIikuZmlyc3QoKS5hZnRlcihcIjxhYmJyIGNsYXNzPVxcXCJzZWFyY2gtY2hvaWNlLWNsb3NlXFxcIj48L2FiYnI+XCIpO1xuXHQgIH1cblx0ICByZXR1cm4gdGhpcy5zZWxlY3RlZF9pdGVtLmFkZENsYXNzKFwiY2hvc2VuLXNpbmdsZS13aXRoLWRlc2VsZWN0XCIpO1xuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuZ2V0X3NlYXJjaF90ZXh0ID0gZnVuY3Rpb24oKSB7XG5cdCAgaWYgKHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpID09PSB0aGlzLmRlZmF1bHRfdGV4dCkge1xuXHRcdHJldHVybiBcIlwiO1xuXHQgIH0gZWxzZSB7XG5cdFx0cmV0dXJuICQoJzxkaXYvPicpLnRleHQoJC50cmltKHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpKSkuaHRtbCgpO1xuXHQgIH1cblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLndpbm5vd19yZXN1bHRzX3NldF9oaWdobGlnaHQgPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgZG9faGlnaCwgc2VsZWN0ZWRfcmVzdWx0cztcblxuXHQgIHNlbGVjdGVkX3Jlc3VsdHMgPSAhdGhpcy5pc19tdWx0aXBsZSA/IHRoaXMuc2VhcmNoX3Jlc3VsdHMuZmluZChcIi5yZXN1bHQtc2VsZWN0ZWQuYWN0aXZlLXJlc3VsdFwiKSA6IFtdO1xuXHQgIGRvX2hpZ2ggPSBzZWxlY3RlZF9yZXN1bHRzLmxlbmd0aCA/IHNlbGVjdGVkX3Jlc3VsdHMuZmlyc3QoKSA6IHRoaXMuc2VhcmNoX3Jlc3VsdHMuZmluZChcIi5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG5cdCAgaWYgKGRvX2hpZ2ggIT0gbnVsbCkge1xuXHRcdHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQoZG9faGlnaCk7XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUubm9fcmVzdWx0cyA9IGZ1bmN0aW9uKHRlcm1zKSB7XG5cdCAgdmFyIG5vX3Jlc3VsdHNfaHRtbDtcblxuXHQgIG5vX3Jlc3VsdHNfaHRtbCA9ICQoJzxsaSBjbGFzcz1cIm5vLXJlc3VsdHNcIj4nICsgdGhpcy5yZXN1bHRzX25vbmVfZm91bmQgKyAnIFwiPHNwYW4+PC9zcGFuPlwiPC9saT4nKTtcblx0ICBub19yZXN1bHRzX2h0bWwuZmluZChcInNwYW5cIikuZmlyc3QoKS5odG1sKHRlcm1zKTtcblx0ICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0cy5hcHBlbmQobm9fcmVzdWx0c19odG1sKTtcblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLm5vX3Jlc3VsdHNfY2xlYXIgPSBmdW5jdGlvbigpIHtcblx0ICByZXR1cm4gdGhpcy5zZWFyY2hfcmVzdWx0cy5maW5kKFwiLm5vLXJlc3VsdHNcIikucmVtb3ZlKCk7XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5rZXlkb3duX2Fycm93ID0gZnVuY3Rpb24oKSB7XG5cdCAgdmFyIG5leHRfc2liO1xuXG5cdCAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nICYmIHRoaXMucmVzdWx0X2hpZ2hsaWdodCkge1xuXHRcdG5leHRfc2liID0gdGhpcy5yZXN1bHRfaGlnaGxpZ2h0Lm5leHRBbGwoXCJsaS5hY3RpdmUtcmVzdWx0XCIpLmZpcnN0KCk7XG5cdFx0aWYgKG5leHRfc2liKSB7XG5cdFx0ICByZXR1cm4gdGhpcy5yZXN1bHRfZG9faGlnaGxpZ2h0KG5leHRfc2liKTtcblx0XHR9XG5cdCAgfSBlbHNlIHtcblx0XHRyZXR1cm4gdGhpcy5yZXN1bHRzX3Nob3coKTtcblx0ICB9XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5rZXl1cF9hcnJvdyA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciBwcmV2X3NpYnM7XG5cblx0ICBpZiAoIXRoaXMucmVzdWx0c19zaG93aW5nICYmICF0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0cmV0dXJuIHRoaXMucmVzdWx0c19zaG93KCk7XG5cdCAgfSBlbHNlIGlmICh0aGlzLnJlc3VsdF9oaWdobGlnaHQpIHtcblx0XHRwcmV2X3NpYnMgPSB0aGlzLnJlc3VsdF9oaWdobGlnaHQucHJldkFsbChcImxpLmFjdGl2ZS1yZXN1bHRcIik7XG5cdFx0aWYgKHByZXZfc2licy5sZW5ndGgpIHtcblx0XHQgIHJldHVybiB0aGlzLnJlc3VsdF9kb19oaWdobGlnaHQocHJldl9zaWJzLmZpcnN0KCkpO1xuXHRcdH0gZWxzZSB7XG5cdFx0ICBpZiAodGhpcy5jaG9pY2VzX2NvdW50KCkgPiAwKSB7XG5cdFx0XHR0aGlzLnJlc3VsdHNfaGlkZSgpO1xuXHRcdCAgfVxuXHRcdCAgcmV0dXJuIHRoaXMucmVzdWx0X2NsZWFyX2hpZ2hsaWdodCgpO1xuXHRcdH1cblx0ICB9XG5cdH07XG5cblx0Q2hvc2VuLnByb3RvdHlwZS5rZXlkb3duX2JhY2tzdHJva2UgPSBmdW5jdGlvbigpIHtcblx0ICB2YXIgbmV4dF9hdmFpbGFibGVfZGVzdHJveTtcblxuXHQgIGlmICh0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSkge1xuXHRcdHRoaXMuY2hvaWNlX2Rlc3Ryb3kodGhpcy5wZW5kaW5nX2JhY2tzdHJva2UuZmluZChcImFcIikuZmlyc3QoKSk7XG5cdFx0cmV0dXJuIHRoaXMuY2xlYXJfYmFja3N0cm9rZSgpO1xuXHQgIH0gZWxzZSB7XG5cdFx0bmV4dF9hdmFpbGFibGVfZGVzdHJveSA9IHRoaXMuc2VhcmNoX2NvbnRhaW5lci5zaWJsaW5ncyhcImxpLnNlYXJjaC1jaG9pY2VcIikubGFzdCgpO1xuXHRcdGlmIChuZXh0X2F2YWlsYWJsZV9kZXN0cm95Lmxlbmd0aCAmJiAhbmV4dF9hdmFpbGFibGVfZGVzdHJveS5oYXNDbGFzcyhcInNlYXJjaC1jaG9pY2UtZGlzYWJsZWRcIikpIHtcblx0XHQgIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlID0gbmV4dF9hdmFpbGFibGVfZGVzdHJveTtcblx0XHQgIGlmICh0aGlzLnNpbmdsZV9iYWNrc3Ryb2tlX2RlbGV0ZSkge1xuXHRcdFx0cmV0dXJuIHRoaXMua2V5ZG93bl9iYWNrc3Ryb2tlKCk7XG5cdFx0ICB9IGVsc2Uge1xuXHRcdFx0cmV0dXJuIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlLmFkZENsYXNzKFwic2VhcmNoLWNob2ljZS1mb2N1c1wiKTtcblx0XHQgIH1cblx0XHR9XG5cdCAgfVxuXHR9O1xuXG5cdENob3Nlbi5wcm90b3R5cGUuY2xlYXJfYmFja3N0cm9rZSA9IGZ1bmN0aW9uKCkge1xuXHQgIGlmICh0aGlzLnBlbmRpbmdfYmFja3N0cm9rZSkge1xuXHRcdHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlLnJlbW92ZUNsYXNzKFwic2VhcmNoLWNob2ljZS1mb2N1c1wiKTtcblx0ICB9XG5cdCAgcmV0dXJuIHRoaXMucGVuZGluZ19iYWNrc3Ryb2tlID0gbnVsbDtcblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLmtleWRvd25fY2hlY2tlciA9IGZ1bmN0aW9uKGV2dCkge1xuXHQgIHZhciBzdHJva2UsIF9yZWYxO1xuXG5cdCAgc3Ryb2tlID0gKF9yZWYxID0gZXZ0LndoaWNoKSAhPSBudWxsID8gX3JlZjEgOiBldnQua2V5Q29kZTtcblx0ICB0aGlzLnNlYXJjaF9maWVsZF9zY2FsZSgpO1xuXHQgIGlmIChzdHJva2UgIT09IDggJiYgdGhpcy5wZW5kaW5nX2JhY2tzdHJva2UpIHtcblx0XHR0aGlzLmNsZWFyX2JhY2tzdHJva2UoKTtcblx0ICB9XG5cdCAgc3dpdGNoIChzdHJva2UpIHtcblx0XHRjYXNlIDg6XG5cdFx0ICB0aGlzLmJhY2tzdHJva2VfbGVuZ3RoID0gdGhpcy5zZWFyY2hfZmllbGQudmFsKCkubGVuZ3RoO1xuXHRcdCAgYnJlYWs7XG5cdFx0Y2FzZSA5OlxuXHRcdCAgaWYgKHRoaXMucmVzdWx0c19zaG93aW5nICYmICF0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0XHR0aGlzLnJlc3VsdF9zZWxlY3QoZXZ0KTtcblx0XHQgIH1cblx0XHQgIHRoaXMubW91c2Vfb25fY29udGFpbmVyID0gZmFsc2U7XG5cdFx0ICBicmVhaztcblx0XHRjYXNlIDEzOlxuXHRcdCAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ICBicmVhaztcblx0XHRjYXNlIDM4OlxuXHRcdCAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ICB0aGlzLmtleXVwX2Fycm93KCk7XG5cdFx0ICBicmVhaztcblx0XHRjYXNlIDQwOlxuXHRcdCAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0ICB0aGlzLmtleWRvd25fYXJyb3coKTtcblx0XHQgIGJyZWFrO1xuXHQgIH1cblx0fTtcblxuXHRDaG9zZW4ucHJvdG90eXBlLnNlYXJjaF9maWVsZF9zY2FsZSA9IGZ1bmN0aW9uKCkge1xuXHQgIHZhciBkaXYsIGZfd2lkdGgsIGgsIHN0eWxlLCBzdHlsZV9ibG9jaywgc3R5bGVzLCB3LCBfaSwgX2xlbjtcblxuXHQgIGlmICh0aGlzLmlzX211bHRpcGxlKSB7XG5cdFx0aCA9IDA7XG5cdFx0dyA9IDA7XG5cdFx0c3R5bGVfYmxvY2sgPSBcInBvc2l0aW9uOmFic29sdXRlOyBsZWZ0OiAtMTAwMHB4OyB0b3A6IC0xMDAwcHg7IGRpc3BsYXk6bm9uZTtcIjtcblx0XHRzdHlsZXMgPSBbJ2ZvbnQtc2l6ZScsICdmb250LXN0eWxlJywgJ2ZvbnQtd2VpZ2h0JywgJ2ZvbnQtZmFtaWx5JywgJ2xpbmUtaGVpZ2h0JywgJ3RleHQtdHJhbnNmb3JtJywgJ2xldHRlci1zcGFjaW5nJ107XG5cdFx0Zm9yIChfaSA9IDAsIF9sZW4gPSBzdHlsZXMubGVuZ3RoOyBfaSA8IF9sZW47IF9pKyspIHtcblx0XHQgIHN0eWxlID0gc3R5bGVzW19pXTtcblx0XHQgIHN0eWxlX2Jsb2NrICs9IHN0eWxlICsgXCI6XCIgKyB0aGlzLnNlYXJjaF9maWVsZC5jc3Moc3R5bGUpICsgXCI7XCI7XG5cdFx0fVxuXHRcdGRpdiA9ICQoJzxkaXYgLz4nLCB7XG5cdFx0ICAnc3R5bGUnOiBzdHlsZV9ibG9ja1xuXHRcdH0pO1xuXHRcdGRpdi50ZXh0KHRoaXMuc2VhcmNoX2ZpZWxkLnZhbCgpKTtcblx0XHQkKCdib2R5JykuYXBwZW5kKGRpdik7XG5cdFx0dyA9IGRpdi53aWR0aCgpICsgMjU7XG5cdFx0ZGl2LnJlbW92ZSgpO1xuXHRcdGZfd2lkdGggPSB0aGlzLmNvbnRhaW5lci5vdXRlcldpZHRoKCk7XG5cdFx0aWYgKHcgPiBmX3dpZHRoIC0gMTApIHtcblx0XHQgIHcgPSBmX3dpZHRoIC0gMTA7XG5cdFx0fVxuXHRcdHJldHVybiB0aGlzLnNlYXJjaF9maWVsZC5jc3Moe1xuXHRcdCAgJ3dpZHRoJzogdyArICdweCdcblx0XHR9KTtcblx0ICB9XG5cdH07XG5cblx0cmV0dXJuIENob3NlbjtcblxuICB9KShBYnN0cmFjdENob3Nlbik7XG5cbn0pLmNhbGwodGhpcyk7XG52YXIgX2NhcnRUaW1lcjtcbmZ1bmN0aW9uIGFkZFRvQ2FydChwcm9kdWN0X2lkLCBxdWFudGl0eSwgZGF0YSkge1xuICAgIHF1YW50aXR5ID0gdHlwZW9mKHF1YW50aXR5KSAhPSAndW5kZWZpbmVkJyA/IHF1YW50aXR5IDogMTtcblxuICAgIGNsZWFyVGltZW91dChfY2FydFRpbWVyKTtcbiAgICBpZiAoIWRhdGEpIHtcbiAgICAgICAgZGF0YSA9ICdwcm9kdWN0X2lkPScgKyBwcm9kdWN0X2lkICsgJyZxdWFudGl0eT0nICsgcXVhbnRpdHk7XG4gICAgfVxuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogJ2luZGV4LnBocD9yb3V0ZT1tb2R1bGUvcGVyc29uYWxfY2FydC9hZGQnLFxuICAgICAgICB0eXBlOiAncG9zdCcsXG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgICAgICQoJy5zdWNjZXNzLCAud2FybmluZywgLmF0dGVudGlvbiwgLmluZm9ybWF0aW9uLCAuZXJyb3InKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgaWYgKGpzb25bJ3JlZGlyZWN0J10pIHtcbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IGpzb25bJ3JlZGlyZWN0J107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChqc29uWydzdWNjZXNzJ10pIHtcbiAgICAgICAgICAgICAgICAkKCcjY2FydCcpLmFkZENsYXNzKCdmaWxsZWQnKTtcbiAgICAgICAgICAgICAgICAkKCcjY2FydC10b3RhbCcpLmh0bWwoanNvblsnY291bnQnXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChqc29uWydlcnJvciddKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SIGFkZFRvQ2FydCcpO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoanNvblsnZXJyb3InXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiQoJy5idG4tY2FydCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBwcm9kdWN0X2lkID0gJCh0aGlzKS5kYXRhKCdwcm9kdWN0X2lkJyk7XG4gICAgdmFyIHF1YW50aXR5ID0gJCh0aGlzKS5kYXRhKCdwcm9kdWN0X2lkJykgfHwgMTtcbiAgICB2YXIgZGF0YSA9ICQodGhpcykuZGF0YSgncHJvZHVjdF9pZCcpO1xuICAgIGlmKHByb2R1Y3RfaWQpIHtcbiAgICAgICAgYWRkVG9DYXJ0KHByb2R1Y3RfaWQsIHF1YW50aXR5KTtcbiAgICB9XG59KTtcbi8qdmFyIF93aXNoTGlzdFRpbWVyO1xuZnVuY3Rpb24gYWRkVG9XaXNoTGlzdChwcm9kdWN0X2lkKSB7XG4gICAgY2xlYXJUaW1lb3V0KF93aXNoTGlzdFRpbWVyKTtcblxuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogJ2luZGV4LnBocD9yb3V0ZT1hY2NvdW50L3dpc2hsaXN0L2FkZCcsXG4gICAgICAgIHR5cGU6ICdwb3N0JyxcbiAgICAgICAgZGF0YTogJ3Byb2R1Y3RfaWQ9JyArIHByb2R1Y3RfaWQsXG4gICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGpzb24pIHtcbiAgICAgICAgICAgICQoJy5zdWNjZXNzLCAud2FybmluZywgLmF0dGVudGlvbiwgLmluZm9ybWF0aW9uJykucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIGlmIChqc29uWydzdWNjZXNzJ10pIHtcbiAgICAgICAgICAgICAgICAkKCcjbm90aWZpY2F0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgLmh0bWwoJzxkaXYgY2xhc3M9XCJzdWNjZXNzXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiPicgKyBqc29uWydzdWNjZXNzJ10gKyAnPGltZyBzcmM9XCJjYXRhbG9nL3ZpZXcvdGhlbWUvZGVmYXVsdC9pbWFnZS9jbG9zZS5wbmdcIiBhbHQ9XCJcIiBjbGFzcz1cImNsb3NlXCIgLz48L2Rpdj4nKVxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xuXG4gICAgICAgICAgICAgICAgJCgnLnN1Y2Nlc3MnKS5mYWRlSW4oJ3Nsb3cnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIF93aXNoTGlzdFRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcjbm90aWZpY2F0aW9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICAgICAgICAgICAgICB9LCAyNTAwKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICQoJyN3aXNobGlzdC10b3RhbCcpLmh0bWwoanNvblsndG90YWwnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxudmFyIF9jb21wYXJlVGltZXI7XG5mdW5jdGlvbiBhZGRUb0NvbXBhcmUocHJvZHVjdF9pZCkge1xuICAgIGNsZWFyVGltZW91dChfY29tcGFyZVRpbWVyKTtcblxuICAgICQuYWpheCh7XG4gICAgICAgIHVybDogJ2luZGV4LnBocD9yb3V0ZT1wcm9kdWN0L2NvbXBhcmUvYWRkJyxcbiAgICAgICAgdHlwZTogJ3Bvc3QnLFxuICAgICAgICBkYXRhOiAncHJvZHVjdF9pZD0nICsgcHJvZHVjdF9pZCxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24oanNvbikge1xuICAgICAgICAgICAgJCgnLnN1Y2Nlc3MsIC53YXJuaW5nLCAuYXR0ZW50aW9uLCAuaW5mb3JtYXRpb24nKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgaWYgKGpzb25bJ3N1Y2Nlc3MnXSkge1xuICAgICAgICAgICAgICAgICQoJyNub3RpZmljYXRpb24nKVxuICAgICAgICAgICAgICAgICAgICAuaHRtbCgnPGRpdiBjbGFzcz1cInN1Y2Nlc3NcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCI+JyArIGpzb25bJ3N1Y2Nlc3MnXSArICc8aW1nIHNyYz1cImNhdGFsb2cvdmlldy90aGVtZS9kZWZhdWx0L2ltYWdlL2Nsb3NlLnBuZ1wiIGFsdD1cIlwiIGNsYXNzPVwiY2xvc2VcIiAvPjwvZGl2PicpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnYWN0aXZlJyk7XG5cbiAgICAgICAgICAgICAgICAkKCcuc3VjY2VzcycpLmZhZGVJbignc2xvdycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgX2NvbXBhcmVUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnI25vdGlmaWNhdGlvbicpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjUwMCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAkKCcjY29tcGFyZS10b3RhbCcpLmh0bWwoanNvblsndG90YWwnXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiovXG5cbmZ1bmN0aW9uIGdvVG9QYWdlKHVybCkge1xuICAgIGxvY2F0aW9uID0gdXJsO1xufVxuXG5mdW5jdGlvbiBnZXRVUkxWYXIoa2V5KSB7XG4gICAgdmFyIHZhbHVlID0gW107XG5cbiAgICB2YXIgcXVlcnkgPSBTdHJpbmcoZG9jdW1lbnQubG9jYXRpb24pLnNwbGl0KCc/Jyk7XG5cbiAgICBpZiAocXVlcnlbMV0pIHtcbiAgICAgICAgdmFyIHBhcnQgPSBxdWVyeVsxXS5zcGxpdCgnJicpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGF0YSA9IHBhcnRbaV0uc3BsaXQoJz0nKTtcblxuICAgICAgICAgICAgaWYgKGRhdGFbMF0gJiYgZGF0YVsxXSkge1xuICAgICAgICAgICAgICAgIHZhbHVlW2RhdGFbMF1dID0gZGF0YVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh2YWx1ZVtrZXldKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWVba2V5XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblxuICAgIC8qIFNlYXJjaCAqL1xuICAgICQoJy5idXR0b24tc2VhcmNoJykuYmluZCgnY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgdXJsID0gJCgnYmFzZScpLmF0dHIoJ2hyZWYnKSArICdpbmRleC5waHA/cm91dGU9cHJvZHVjdC9zZWFyY2gnO1xuXG4gICAgICAgIHZhciBzZWFyY2ggPSAkKCdpbnB1dFtuYW1lPVxcJ3NlYXJjaFxcJ10nKS52YWwoKTtcblxuICAgICAgICBpZiAoc2VhcmNoKSB7XG4gICAgICAgICAgICB1cmwgKz0gJyZzZWFyY2g9JyArIGVuY29kZVVSSUNvbXBvbmVudChzZWFyY2gpO1xuICAgICAgICB9XG5cbiAgICAgICAgbG9jYXRpb24gPSB1cmw7XG4gICAgfSk7XG5cbiAgICAkKCcjaGVhZGVyIGlucHV0W25hbWU9XFwnc2VhcmNoXFwnXScpLmJpbmQoJ2tleWRvd24nLCBmdW5jdGlvbihlKSB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT0gMTMpIHtcbiAgICAgICAgICAgIHVybCA9ICQoJ2Jhc2UnKS5hdHRyKCdocmVmJykgKyAnaW5kZXgucGhwP3JvdXRlPXByb2R1Y3Qvc2VhcmNoJztcblxuICAgICAgICAgICAgdmFyIHNlYXJjaCA9ICQoJ2lucHV0W25hbWU9XFwnc2VhcmNoXFwnXScpLnZhbCgpO1xuXG4gICAgICAgICAgICBpZiAoc2VhcmNoKSB7XG4gICAgICAgICAgICAgICAgdXJsICs9ICcmc2VhcmNoPScgKyBlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbG9jYXRpb24gPSB1cmw7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIFNldHVwIG1vYmlsZSBtYWluIG1lbnVcbiAgICAkKCcjYnRuLW1vYmlsZS10b2dnbGUnKS50b2dnbGUoXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZXhwYW5kJykubmV4dCgpLnNsaWRlVXAoKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdleHBhbmQnKS5uZXh0KCkuc2xpZGVEb3duKCk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgJCgnLmJ0bi1leHBhbmQtbWVudScpLnRvZ2dsZShcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5zbGlkZVVwKCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ2V4cGFuZCcpO1xuICAgICAgICB9LFxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQodGhpcykubmV4dCgpLnNsaWRlRG93bigpLnBhcmVudCgpLmFkZENsYXNzKCdleHBhbmQnKTtcbiAgICAgICAgfVxuICAgICk7XG5cbiAgICAvLyBzZXQgd2lkdGggZm9yIHN1YiBtZW51IGluIG1haW5tZW51XG4gICAgdmFyIHdpZHRoX2FsaWduZWQgPSBmYWxzZTtcbiAgICAkKCcubWFpbm1lbnUgLm1lbnUtbGknKS5ob3ZlcihmdW5jdGlvbigpe1xuICAgICAgICBpZighd2lkdGhfYWxpZ25lZCl7XG4gICAgICAgICAgICB2YXIgbWVudV93aWR0aCA9ICQoJy5tYWlubWVudSAubWVudS1saTpmaXJzdCcpLndpZHRoKCk7XG5cbiAgICAgICAgICAgIGlmKG1lbnVfd2lkdGggPCAyMDApe1xuICAgICAgICAgICAgICAgIG1lbnVfd2lkdGggPSAyMDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoJy5tYWlubWVudSAubWVudS1saSA+IC5kcm9wZG93bi1jb250YWluZXInKS53aWR0aChtZW51X3dpZHRoKTtcbiAgICAgICAgICAgICQoJy5tZW51LXN1YicpLndpZHRoKG1lbnVfd2lkdGgpO1xuICAgICAgICAgICAgJCgnLm1lbnUtc3ViLXN1YicpLndpZHRoKG1lbnVfd2lkdGgrMTAwKTtcbiAgICAgICAgICAgICQoJy5tYWlubWVudSAubWVudS1saS1zdWIgPiAuZHJvcGRvd24tY29udGFpbmVyJykud2lkdGgobWVudV93aWR0aCsxMDApO1xuXG4gICAgICAgICAgICB3aWR0aF9hbGlnbmVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuXG5cbiAgICB2YXIgaW5uZXJXaWR0aCA9ICQod2luZG93KS5pbm5lcldpZHRoKCk7XG5cbiAgICBpZiAoaW5uZXJXaWR0aCA8IDc2OCkge1xuICAgICAgICAkKCcjYnRuLW1vYmlsZS10b2dnbGUnKS50cmlnZ2VyKCdjbGljaycpO1xuICAgICAgICAkKCcuYnRuLWV4cGFuZC1tZW51JykudHJpZ2dlcignY2xpY2snKTtcbiAgICB9XG5cbiAgICAvLyBTZXR1cCBtb2JpbGUgdGFic1xuICAgICQoJyNidG4tdGFicy10b2dnbGUnKS50b2dnbGUoXG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCh0aGlzKS5wYXJlbnQoKS5yZW1vdmVDbGFzcygnY29sbGFwc2UnKS5hZGRDbGFzcygnZXhwYW5kJykuZmluZCgnLnVpLXN0YXRlLWRlZmF1bHQnKS5zbGlkZURvd24oKTtcbiAgICAgICAgfSxcbiAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAkKHRoaXMpLnBhcmVudCgpLnJlbW92ZUNsYXNzKCdleHBhbmQnKS5hZGRDbGFzcygnY29sbGFwc2UnKS5maW5kKCcudWktc3RhdGUtZGVmYXVsdDpub3QoLnVpLXN0YXRlLWFjdGl2ZSknKS5zbGlkZVVwKCk7XG4gICAgICAgIH1cbiAgICApO1xuXG4gICAgLy9TbW9vdGggc2Nyb2xsIHRvIG9uIHBhZ2UgZWxlbWVudFxuICAgICQoXCIucmV2aWV3IGFcIikuY2xpY2soZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAvL2NhbGN1bGF0ZSBkZXN0aW5hdGlvbiBwbGFjZVxuICAgICAgICB2YXIgZGVzdD0wO1xuICAgICAgICBpZigkKHRoaXMuaGFzaCkub2Zmc2V0KCkudG9wID4gJChkb2N1bWVudCkuaGVpZ2h0KCktJCh3aW5kb3cpLmhlaWdodCgpKXtcbiAgICAgICAgICAgIGRlc3Q9JChkb2N1bWVudCkuaGVpZ2h0KCktJCh3aW5kb3cpLmhlaWdodCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVzdD0kKHRoaXMuaGFzaCkub2Zmc2V0KCkudG9wO1xuICAgICAgICB9XG4gICAgICAgIC8vZ28gdG8gZGVzdGluYXRpb25cbiAgICAgICAgJCgnaHRtbCxib2R5JykuYW5pbWF0ZSh7c2Nyb2xsVG9wOmRlc3R9LCA1MDAsJ3N3aW5nJyk7XG4gICAgfSk7XG5cbiAgICAvKiBBamF4IENhcnQgKi9cbiAgICB2YXIgZG9uZSA9IGZhbHNlO1xuICAgICQoJ2JvZHknKS5hcHBlbmQoJzxkaXYgaWQ9XCJjYXJ0LWNvbnRlbnRcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmVcIj48L2Rpdj4nKTtcbiAgICAkKFwiI2NhcnRcIikubW91c2VlbnRlcih1cGRhdGVDYXJ0KTtcblxuICAgIGZ1bmN0aW9uIHVwZGF0ZUNhcnQgKCkge1xuICAgICAgICAkKCcjY2FydC1jb250ZW50JykubG9hZCgnaW5kZXgucGhwP3JvdXRlPW1vZHVsZS9jYXJ0ICNjYXJ0ID4gKicsIGFwcGVuZFRvQ2FydCk7XG5cbiAgICAgICAgZnVuY3Rpb24gYXBwZW5kVG9DYXJ0ICgpIHtcbiAgICAgICAgICAgICQoJyNjYXJ0IC5taW5pLWNhcnQtYmxvY2snKS5lbXB0eSgpO1xuICAgICAgICAgICAgJCgnI2NhcnQgI2NhcnQtdG90YWwnKS5lbXB0eSgpO1xuXG4gICAgICAgICAgICAkKCcjY2FydCAjY2FydC10b3RhbCcpLmFwcGVuZCgkKCcjY2FydC1jb250ZW50ICNjYXJ0LXRvdGFsJykuaHRtbCgpKTtcbiAgICAgICAgICAgICQoJyNjYXJ0IC5taW5pLWNhcnQtYmxvY2snKS5hcHBlbmQoJCgnI2NhcnQtY29udGVudCAubWluaS1jYXJ0LWJsb2NrJykuaHRtbCgpKTtcblxuICAgICAgICAgICAgJCgnI2NhcnQnKS5hZGRDbGFzcygnYWN0aXZlJyk7XG4gICAgICAgICAgICBpZkZpbGxlZENhcnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgICQoXCIjY2FydFwiKS5tb3VzZWxlYXZlKCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoJyNjYXJ0JykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBpZkZpbGxlZENhcnQoKTtcbiAgICB9KTtcbiAgICAkKCcjY2FydCcpLm9uKCdjaGFuZ2UnLCBpZkZpbGxlZENhcnQpO1xuXG4gICAgZnVuY3Rpb24gaWZGaWxsZWRDYXJ0KCkge1xuICAgICAgICBpZigkKCcjY2FydC10b3RhbCcpLnRleHQoKSA9PSAnMCcpIHtcbiAgICAgICAgICAgICQoJyNjYXJ0JykucmVtb3ZlQ2xhc3MoJ2ZpbGxlZCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgJCgnI2NhcnQnKS5hZGRDbGFzcygnZmlsbGVkJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWZGaWxsZWRDYXJ0KCk7XG5cbiAgICAkKCcuY3VzdG9tLXNlbGVjdCcpLmNob3Nlbih7XG4gICAgICAgIGRpc2FibGVfc2VhcmNoX3RocmVzaG9sZDogMTBcbiAgICB9KTtcblxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
